-- Staging CPT Data: Sample transactions for testing
-- Run this AFTER staging_migration.sql and staging_data.sql

INSERT INTO "public"."cpt_data" ("id", "transaction_date", "cust_session", "cust_name", "cust_email_ad", "cust_amount", "currency", "cust_trans_id", "cust_order_description", "status", "trans_type", "card_type", "site_id", "site_name", "cp_name", "raw_data", "created_at", "updated_at", "synced_at", "is_refund", "is_chargeback", "refund_date", "chargeback_date", "marked_by", "is_settled", "settled_at", "settlement_report_id") VALUES
	('pi_3SpwvHJS9wNw6ew102K443uc', '2026-01-15 12:13:45+00', '54645', 'Stephanie Renihan', 'stephrenihan@gmail.com', 250.00, 'CAD', 'pi_3SpwvHJS9wNw6ew102K443uc', '54645', NULL, 'complete', 'CC', '6079', 'Bravento', 'JR', NULL, '2026-01-15 23:05:55.840338+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('session_1001660', '2026-01-15 13:32:46+00', '1001660', 'vera dodds', 'vbdodds@bell.net', 324.00, 'CAD', NULL, '1001660', 'incomplete', 'incomplete', NULL, '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-15 23:05:55.840338+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3Sq06aDUaYWiowPw08xeV9DG', '2026-01-15 15:38:56+00', '1001666', 'jonathan groleau', 'jo692015@gmx.fr', 324.00, 'CAD', 'pi_3Sq06aDUaYWiowPw08xeV9DG', '1001666', NULL, 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-16 00:05:43.70073+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3SqKXC3W5nqfpr6G1RArN3xU', '2026-01-16 13:26:28+00', '36013', 'Ramvic De', 'ramvicaquino@yahoo.com', 70.00, 'CAD', 'pi_3SqKXC3W5nqfpr6G1RArN3xU', '36013', NULL, 'complete', 'CC', '6082', '15302781 Canada Inc.', 'BNDT', NULL, '2026-01-16 22:05:45.25584+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3SoOp0DUaYWiowPw3JqR5aHZ', '2026-01-11 05:37:24+00', '1001575', 'Kelly Emro', 'kemro@sasktel.net', 160.00, 'CAD', 'pi_3SoOp0DUaYWiowPw3JqR5aHZ', '1001575', 'ID-checked', 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-11 14:05:44.475374+00', '2026-01-15 23:32:58.972473+00', '2026-01-15 20:05:45.57+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3SqKHeDUaYWiowPw1TueeLEW', '2026-01-16 13:10:28+00', '1001684', 'Muhammad Nabi', 'shan.n91@gmail.com', 336.00, 'CAD', 'pi_3SqKHeDUaYWiowPw1TueeLEW', '1001684', NULL, 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-16 22:05:45.25584+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3SqZTLDUaYWiowPw1vCOBZd1', '2026-01-17 05:24:06+00', '1001692', 'Peter Northcott', 'pet1278@gmail.com', 250.00, 'CAD', 'pi_3SqZTLDUaYWiowPw1vCOBZd1', '1001692', NULL, 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-17 14:05:44.710079+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('session_41497', '2026-01-17 14:30:36+00', '41497', 'Dwain Dupuis', 'dwaindupuis55@gmail.com', 244.00, 'CAD', NULL, '41497', 'incomplete', 'incomplete', NULL, '6081', 'AP Online Store Inc.', 'NSC', NULL, '2026-01-17 23:05:43.170605+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3Sq2zF3W5nqfpr6G1YKgrY6b', '2026-01-15 18:42:13+00', '35915', 'Yang Liu', 'peterliu199508@gmail.com', 135.00, 'CAD', 'pi_3Sq2zF3W5nqfpr6G1YKgrY6b', '35915', NULL, 'complete', 'CC', '6082', '15302781 Canada Inc.', 'BNDT', NULL, '2026-01-16 03:05:44.247168+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3Sq2T1DUaYWiowPw2Tc9hRhR', '2026-01-15 18:08:57+00', '1001669', 'Ahmad Avaz', 'ahmadmoghaddammd@gmail.com', 100.00, 'CAD', 'pi_3Sq2T1DUaYWiowPw2Tc9hRhR', '1001669', NULL, 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-16 03:05:44.247168+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3SqP2uDUaYWiowPw1OdZmAhV', '2026-01-16 18:16:34+00', '1001689', 'Marc Branchaud', 'mabroofing@hotmail.com', 151.00, 'CAD', 'pi_3SqP2uDUaYWiowPw1OdZmAhV', '1001689', NULL, 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-17 03:05:44.911142+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('session_1001696', '2026-01-17 07:20:23+00', '1001696', 'Manon Vezina', 'mvezina35@hotmail.fr', 79.00, 'CAD', NULL, '1001696', 'incomplete', 'incomplete', NULL, '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-17 16:05:44.747052+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3SqiZTDUaYWiowPw350Ad96s', '2026-01-17 15:07:18+00', '1001702', 'Tyler Poisson', 'tylerpoisson@gmail.com', 214.00, 'CAD', 'pi_3SqiZTDUaYWiowPw350Ad96s', '1001702', NULL, 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-18 00:05:45.017994+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('session_41464', '2026-01-15 22:17:34+00', '41464', 'Kamil Chamerski', 'kamilchamerski001@gmail.com', 219.00, 'CAD', NULL, '41464', 'incomplete', 'incomplete', NULL, '6081', 'AP Online Store Inc.', 'NSC', NULL, '2026-01-16 07:05:46.850498+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3Sqdfp3W5nqfpr6G1RBl2vFA', '2026-01-17 09:52:37+00', '36058', 'Christiane Dupuis', 'christianedupuis@sogetel.net', 120.00, 'CAD', 'pi_3Sqdfp3W5nqfpr6G1RBl2vFA', '36058', NULL, 'complete', 'CC', '6082', '15302781 Canada Inc.', 'BNDT', NULL, '2026-01-17 18:05:45.424773+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3Sqdah3W5nqfpr6G0B6F2aYk', '2026-01-17 09:47:19+00', '36056', 'Jessica Gaudreault', 'jessgaud@gmail.com', 98.00, 'CAD', 'pi_3Sqdah3W5nqfpr6G0B6F2aYk', '36056', NULL, 'complete', 'CC', '6082', '15302781 Canada Inc.', 'BNDT', NULL, '2026-01-17 18:05:45.424773+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3Sqd6YDUaYWiowPw00IIXrFr', '2026-01-17 09:16:16+00', '1001698', 'Linda Anstead', 'pangelseyes35@aol.com', 120.00, 'CAD', 'pi_3Sqd6YDUaYWiowPw00IIXrFr', '1001698', NULL, 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-17 18:05:45.424773+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3SqjyyJmrU6Q1Wd30D61Wh1j', '2026-01-17 16:36:47+00', '41502', 'Dwayne Schram', 'dwayneschram@gmail.com', 145.00, 'CAD', 'pi_3SqjyyJmrU6Q1Wd30D61Wh1j', '41502', NULL, 'complete', 'CC', '6081', 'AP Online Store Inc.', 'NSC', NULL, '2026-01-18 01:05:44.599636+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3SqCxaDUaYWiowPw153FRlQL', '2026-01-16 05:21:12+00', '1001672', 'Shaliz Bazargan', 's.bazargan2@gmail.com', 109.00, 'CAD', 'pi_3SqCxaDUaYWiowPw153FRlQL', '1001672', NULL, 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, '2026-01-16 14:05:33.117674+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_3SqeKl3W5nqfpr6G1ERg6INH', '2026-01-17 10:34:56+00', '36060', 'Alex Rudiy', 'arudiy@yahoo.com', 225.00, 'CAD', 'pi_3SqeKl3W5nqfpr6G1ERg6INH', '36060', NULL, 'complete', 'CC', '6082', '15302781 Canada Inc.', 'BNDT', NULL, '2026-01-17 19:05:44.754262+00', '2026-01-18 03:05:33.396052+00', '2026-01-18 03:05:33.352+00', false, false, NULL, NULL, NULL, false, NULL, NULL),
	('pi_refund_test_1', '2026-01-10 10:00:00+00', '99001', 'Refund Test Customer', 'refund.test@example.com', 150.00, 'CAD', 'pi_refund_test_1', '99001', 'ID-checked', 'complete', 'CC', '6070', 'MOHWK-STORE', 'MOHAWK', NULL, now(), now(), now(), true, false, '2026-01-12 14:00:00+00', NULL, NULL, false, NULL, NULL),
	('pi_chargeback_test_1', '2026-01-08 09:00:00+00', '99002', 'Chargeback Test Customer', 'chargeback.test@example.com', 275.00, 'CAD', 'pi_chargeback_test_1', '99002', 'ID-checked', 'complete', 'CC', '6079', 'Bravento', 'JR', NULL, now(), now(), now(), false, true, NULL, '2026-01-14 16:00:00+00', NULL, false, NULL, NULL),
	('int_test_aw_1', '2026-01-14 11:30:00+00', '30999', 'Airwallex Test', 'aw.test@example.com', 180.00, 'CAD', 'int_test_aw_1', '30999', 'ID-Verified', 'complete', 'CC', '6083', 'Ventoro Group Limited - AW', 'PAYMENTPROS', NULL, now(), now(), now(), false, false, NULL, NULL, NULL, false, NULL, NULL),
	('int_test_aw_2', '2026-01-13 15:45:00+00', '30998', 'Another AW Test', 'aw2.test@example.com', 95.50, 'CAD', 'int_test_aw_2', '30998', 'ID-Verified', 'complete', 'CC', '6083', 'Ventoro Group Limited - AW', 'PAYMENTPROS', NULL, now(), now(), now(), false, false, NULL, NULL, NULL, false, NULL, NULL)
ON CONFLICT (cust_session, transaction_date) DO NOTHING;

-- Grant site access to the test user you created
-- First check the user ID:
SELECT id, email FROM auth.users;

-- Then run this (replace YOUR_USER_ID with actual UUID):
-- INSERT INTO "public"."user_cpt_site_access" ("user_id", "site_id", "granted_at")
-- SELECT 'YOUR_USER_ID'::uuid, site_id, now()
-- FROM public.cpt_site_accounts
-- WHERE is_active = true;

-- Verify data
SELECT 'CPT Data inserted: ' || count(*) as status FROM public.cpt_data;
SELECT 'Complete transactions: ' || count(*) as status FROM public.cpt_data WHERE trans_type = 'complete';
SELECT 'Incomplete transactions: ' || count(*) as status FROM public.cpt_data WHERE trans_type = 'incomplete';
