import{_ as C,r as b,i as B,c as t,h as s,e as o,F as c,G as y,E as S,n as _,f as D,t as f,C as x,g as T}from"./index-wOkIWAdy.js";const V={class:"table-container"},N={class:"data-table"},$=["onClick"],z={class:"th-content"},A={key:0,class:"sort-icon"},E={key:0,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},F={key:1,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},I={key:2,width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",style:{opacity:"0.3"}},M={key:1},q=["colspan"],G=["onClick"],K={__name:"DataTable",props:{columns:{type:Array,required:!0},data:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No data available"},sortable:{type:Boolean,default:!0}},emits:["row-click","sort"],setup(i,{emit:p}){const k=i,h=p,d=b(""),u=b("asc"),v=B(()=>!d.value||!k.sortable?k.data:[...k.data].sort((l,n)=>{const e=l[d.value],a=n[d.value];if(e==null)return 1;if(a==null)return-1;let r=0;return typeof e=="number"&&typeof a=="number"?r=e-a:e instanceof Date&&a instanceof Date?r=e.getTime()-a.getTime():r=String(e).localeCompare(String(a)),u.value==="asc"?r:-r}));function w(l){!l.sortable||!k.sortable||(d.value===l.key?u.value=u.value==="asc"?"desc":"asc":(d.value=l.key,u.value="asc"),h("sort",{key:d.value,order:u.value}))}function m(l,n){h("row-click",{row:l,index:n})}function g(l){return!l.sortable||d.value!==l.key?"none":u.value}return(l,n)=>(s(),t("div",V,[o("table",N,[o("thead",null,[o("tr",null,[(s(!0),t(c,null,y(i.columns,e=>(s(),t("th",{key:e.key,class:_({sortable:e.sortable&&i.sortable}),style:S(e.width?{width:e.width}:{}),onClick:a=>w(e)},[o("div",z,[o("span",null,f(e.label),1),e.sortable&&i.sortable?(s(),t("span",A,[g(e)==="asc"?(s(),t("svg",E,[...n[0]||(n[0]=[o("polyline",{points:"18 15 12 9 6 15"},null,-1)])])):g(e)==="desc"?(s(),t("svg",F,[...n[1]||(n[1]=[o("polyline",{points:"6 9 12 15 18 9"},null,-1)])])):(s(),t("svg",I,[...n[2]||(n[2]=[o("polyline",{points:"6 9 12 15 18 9"},null,-1)])]))])):D("",!0)])],14,$))),128))])]),o("tbody",null,[i.loading?(s(),t(c,{key:0},y(5,e=>o("tr",{key:e},[(s(!0),t(c,null,y(i.columns,a=>(s(),t("td",{key:a.key},[...n[3]||(n[3]=[o("div",{class:"skeleton",style:{height:"20px",width:"80%"}},null,-1)])]))),128))])),64)):v.value.length===0?(s(),t("tr",M,[o("td",{colspan:i.columns.length,class:"no-data"},f(i.emptyMessage),9,q)])):(s(!0),t(c,{key:2},y(v.value,(e,a)=>(s(),t("tr",{key:a,onClick:r=>m(e,a)},[(s(!0),t(c,null,y(i.columns,r=>(s(),t("td",{key:r.key},[x(l.$slots,`cell-${r.key}`,{row:e,value:e[r.key]},()=>[T(f(e[r.key]),1)])]))),128))],8,G))),128))])])]))}},O=C(K,[["__scopeId","data-v-3002df0d"]]);export{O as D};
