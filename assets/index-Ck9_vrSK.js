const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginView-BbegaefS.js","assets/LoginView-Bv5g8ad9.css","assets/ReportsView-T1rIvooA.js","assets/StatsGrid-B_QWcx43.js","assets/StatsGrid-h8L9bYv8.css","assets/CustomDropdown-DPQNByhy.js","assets/CustomDropdown-BTkyr1C4.css","assets/DataTable-BCyIN5WU.js","assets/DataTable-5CcPwjYx.css","assets/ReportsView-D9wDqNFA.css","assets/RefundsView-CJIS8rO5.js","assets/Modal-DFjckJ2c.js","assets/Modal-moKmote6.css","assets/RefundsView-dsJMLlrO.css","assets/AdminView-B26grRzF.js","assets/AdminView-DKE0RSbh.css","assets/WarmupView-CV55T3hw.js","assets/WarmupView-DCE6LqIo.css","assets/BalancesView-BAOb6K1V.js","assets/useFormatting-CP8YxVhJ.js","assets/BalancesView-iwpzM8BM.css","assets/CptReportsView-DGUXL6F5.js","assets/CptReportsView-e7k8TMCj.css","assets/SettlementReportsView-Cu6PwI6S.js","assets/SettlementReportsView-YzTId3HR.css","assets/SitePricingView-C4WzQwme.js","assets/SitePricingView-Cwwt6yMV.css","assets/PluginAdminView-YZHFxKR8.js","assets/PluginAdminView-Bzv3KCkG.css","assets/DocumentationView-xDofxcGz.js","assets/DocumentationView-CY3AMBes.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ji(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const ue={},$r=[],yt=()=>{},qa=()=>!1,fn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ni=e=>e.startsWith("onUpdate:"),ke=Object.assign,$i=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Wc=Object.prototype.hasOwnProperty,oe=(e,t)=>Wc.call(e,t),H=Array.isArray,Lr=e=>Jr(e)==="[object Map]",Gr=e=>Jr(e)==="[object Set]",po=e=>Jr(e)==="[object Date]",Gc=e=>Jr(e)==="[object RegExp]",z=e=>typeof e=="function",me=e=>typeof e=="string",at=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",Ha=e=>(ce(e)||z(e))&&z(e.then)&&z(e.catch),Ka=Object.prototype.toString,Jr=e=>Ka.call(e),Jc=e=>Jr(e).slice(8,-1),Wa=e=>Jr(e)==="[object Object]",Li=e=>me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,is=ji(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pn=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},zc=/-\w/g,Xe=pn(e=>e.replace(zc,t=>t.slice(1).toUpperCase())),Yc=/\B([A-Z])/g,yr=pn(e=>e.replace(Yc,"-$1").toLowerCase()),gn=pn(e=>e.charAt(0).toUpperCase()+e.slice(1)),In=pn(e=>e?`on${gn(e)}`:""),Xt=(e,t)=>!Object.is(e,t),Dr=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Ga=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},mn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Zc=e=>{const t=me(e)?Number(e):NaN;return isNaN(t)?e:t};let go;const vn=()=>go||(go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Di(e){if(H(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],n=me(s)?tu(s):Di(s);if(n)for(const i in n)t[i]=n[i]}return t}else if(me(e)||ce(e))return e}const Qc=/;(?![^(]*\))/g,Xc=/:([^]+)/,eu=/\/\*[^]*?\*\//g;function tu(e){const t={};return e.replace(eu,"").split(Qc).forEach(r=>{if(r){const s=r.split(Xc);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function nt(e){let t="";if(me(e))t=e;else if(H(e))for(let r=0;r<e.length;r++){const s=nt(e[r]);s&&(t+=s+" ")}else if(ce(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const ru="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",su=ji(ru);function Ja(e){return!!e||e===""}function nu(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=Os(e[s],t[s]);return r}function Os(e,t){if(e===t)return!0;let r=po(e),s=po(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=at(e),s=at(t),r||s)return e===t;if(r=H(e),s=H(t),r||s)return r&&s?nu(e,t):!1;if(r=ce(e),s=ce(t),r||s){if(!r||!s)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Os(e[o],t[o]))return!1}}return String(e)===String(t)}function Ui(e,t){return e.findIndex(r=>Os(r,t))}const za=e=>!!(e&&e.__v_isRef===!0),hr=e=>me(e)?e:e==null?"":H(e)||ce(e)&&(e.toString===Ka||!z(e.toString))?za(e)?hr(e.value):JSON.stringify(e,Ya,2):String(e),Ya=(e,t)=>za(t)?Ya(e,t.value):Lr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,n],i)=>(r[jn(s,i)+" =>"]=n,r),{})}:Gr(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>jn(r))}:at(t)?jn(t):ce(t)&&!H(t)&&!Wa(t)?String(t):t,jn=(e,t="")=>{var r;return at(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fe;class iu{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fe,!t&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Fe;try{return Fe=this,t()}finally{Fe=r}}}on(){++this._on===1&&(this.prevScope=Fe,Fe=this)}off(){this._on>0&&--this._on===0&&(Fe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ou(){return Fe}let pe;const Nn=new WeakSet;class Za{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fe&&Fe.active&&Fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nn.has(this)&&(Nn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mo(this),el(this);const t=pe,r=it;pe=this,it=!0;try{return this.fn()}finally{tl(this),pe=t,it=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Vi(t);this.deps=this.depsTail=void 0,mo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){si(this)&&this.run()}get dirty(){return si(this)}}let Qa=0,os,as;function Xa(e,t=!1){if(e.flags|=8,t){e.next=as,as=e;return}e.next=os,os=e}function Mi(){Qa++}function Bi(){if(--Qa>0)return;if(as){let t=as;for(as=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;os;){let t=os;for(os=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function el(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function tl(e){let t,r=e.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),Vi(s),au(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}e.deps=t,e.depsTail=r}function si(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(rl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function rl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===gs)||(e.globalVersion=gs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!si(e))))return;e.flags|=2;const t=e.dep,r=pe,s=it;pe=e,it=!0;try{el(e);const n=e.fn(e._value);(t.version===0||Xt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{pe=r,it=s,tl(e),e.flags&=-3}}function Vi(e,t=!1){const{dep:r,prevSub:s,nextSub:n}=e;if(s&&(s.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Vi(i,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function au(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let it=!0;const sl=[];function It(){sl.push(it),it=!1}function jt(){const e=sl.pop();it=e===void 0?!0:e}function mo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=pe;pe=void 0;try{t()}finally{pe=r}}}let gs=0;class lu{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Fi{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!pe||!it||pe===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==pe)r=this.activeLink=new lu(pe,this),pe.deps?(r.prevDep=pe.depsTail,pe.depsTail.nextDep=r,pe.depsTail=r):pe.deps=pe.depsTail=r,nl(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=pe.depsTail,r.nextDep=void 0,pe.depsTail.nextDep=r,pe.depsTail=r,pe.deps===r&&(pe.deps=s)}return r}trigger(t){this.version++,gs++,this.notify(t)}notify(t){Mi();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Bi()}}}function nl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)nl(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const ni=new WeakMap,mr=Symbol(""),ii=Symbol(""),ms=Symbol("");function je(e,t,r){if(it&&pe){let s=ni.get(e);s||ni.set(e,s=new Map);let n=s.get(r);n||(s.set(r,n=new Fi),n.map=s,n.key=r),n.track()}}function Rt(e,t,r,s,n,i){const o=ni.get(e);if(!o){gs++;return}const a=l=>{l&&l.trigger()};if(Mi(),t==="clear")o.forEach(a);else{const l=H(e),c=l&&Li(r);if(l&&r==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===ms||!at(d)&&d>=u)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(ms)),t){case"add":l?c&&a(o.get("length")):(a(o.get(mr)),Lr(e)&&a(o.get(ii)));break;case"delete":l||(a(o.get(mr)),Lr(e)&&a(o.get(ii)));break;case"set":Lr(e)&&a(o.get(mr));break}}Bi()}function Er(e){const t=re(e);return t===e?t:(je(t,"iterate",ms),Qe(e)?t:t.map(lt))}function _n(e){return je(e=re(e),"iterate",ms),e}function Ft(e,t){return Nt(e)?vr(e)?Vr(lt(t)):Vr(t):lt(t)}const cu={__proto__:null,[Symbol.iterator](){return $n(this,Symbol.iterator,e=>Ft(this,e))},concat(...e){return Er(this).concat(...e.map(t=>H(t)?Er(t):t))},entries(){return $n(this,"entries",e=>(e[1]=Ft(this,e[1]),e))},every(e,t){return Et(this,"every",e,t,void 0,arguments)},filter(e,t){return Et(this,"filter",e,t,r=>r.map(s=>Ft(this,s)),arguments)},find(e,t){return Et(this,"find",e,t,r=>Ft(this,r),arguments)},findIndex(e,t){return Et(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Et(this,"findLast",e,t,r=>Ft(this,r),arguments)},findLastIndex(e,t){return Et(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Et(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ln(this,"includes",e)},indexOf(...e){return Ln(this,"indexOf",e)},join(e){return Er(this).join(e)},lastIndexOf(...e){return Ln(this,"lastIndexOf",e)},map(e,t){return Et(this,"map",e,t,void 0,arguments)},pop(){return Zr(this,"pop")},push(...e){return Zr(this,"push",e)},reduce(e,...t){return vo(this,"reduce",e,t)},reduceRight(e,...t){return vo(this,"reduceRight",e,t)},shift(){return Zr(this,"shift")},some(e,t){return Et(this,"some",e,t,void 0,arguments)},splice(...e){return Zr(this,"splice",e)},toReversed(){return Er(this).toReversed()},toSorted(e){return Er(this).toSorted(e)},toSpliced(...e){return Er(this).toSpliced(...e)},unshift(...e){return Zr(this,"unshift",e)},values(){return $n(this,"values",e=>Ft(this,e))}};function $n(e,t,r){const s=_n(e),n=s[t]();return s!==e&&!Qe(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=r(i.value)),i}),n}const uu=Array.prototype;function Et(e,t,r,s,n,i){const o=_n(e),a=o!==e&&!Qe(e),l=o[t];if(l!==uu[t]){const h=l.apply(e,i);return a?lt(h):h}let c=r;o!==e&&(a?c=function(h,d){return r.call(this,Ft(e,h),d,e)}:r.length>2&&(c=function(h,d){return r.call(this,h,d,e)}));const u=l.call(o,c,s);return a&&n?n(u):u}function vo(e,t,r,s){const n=_n(e);let i=r;return n!==e&&(Qe(e)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,e)}):i=function(o,a,l){return r.call(this,o,Ft(e,a),l,e)}),n[t](i,...s)}function Ln(e,t,r){const s=re(e);je(s,"iterate",ms);const n=s[t](...r);return(n===-1||n===!1)&&Ki(r[0])?(r[0]=re(r[0]),s[t](...r)):n}function Zr(e,t,r=[]){It(),Mi();const s=re(e)[t].apply(e,r);return Bi(),jt(),s}const hu=ji("__proto__,__v_isRef,__isVue"),il=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(at));function du(e){at(e)||(e=String(e));const t=re(this);return je(t,"has",e),t.hasOwnProperty(e)}class ol{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){if(r==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?Eu:ul:i?cl:ll).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=H(t);if(!n){let l;if(o&&(l=cu[r]))return l;if(r==="hasOwnProperty")return du}const a=Reflect.get(t,r,$e(t)?t:s);if((at(r)?il.has(r):hu(r))||(n||je(t,"get",r),i))return a;if($e(a)){const l=o&&Li(r)?a:a.value;return n&&ce(l)?ai(l):l}return ce(a)?n?ai(a):yn(a):a}}class al extends ol{constructor(t=!1){super(!1,t)}set(t,r,s,n){let i=t[r];const o=H(t)&&Li(r);if(!this._isShallow){const c=Nt(i);if(!Qe(s)&&!Nt(s)&&(i=re(i),s=re(s)),!o&&$e(i)&&!$e(s))return c||(i.value=s),!0}const a=o?Number(r)<t.length:oe(t,r),l=Reflect.set(t,r,s,$e(t)?t:n);return t===re(n)&&(a?Xt(s,i)&&Rt(t,"set",r,s):Rt(t,"add",r,s)),l}deleteProperty(t,r){const s=oe(t,r);t[r];const n=Reflect.deleteProperty(t,r);return n&&s&&Rt(t,"delete",r,void 0),n}has(t,r){const s=Reflect.has(t,r);return(!at(r)||!il.has(r))&&je(t,"has",r),s}ownKeys(t){return je(t,"iterate",H(t)?"length":mr),Reflect.ownKeys(t)}}class fu extends ol{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const pu=new al,gu=new fu,mu=new al(!0);const oi=e=>e,js=e=>Reflect.getPrototypeOf(e);function vu(e,t,r){return function(...s){const n=this.__v_raw,i=re(n),o=Lr(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=n[e](...s),u=r?oi:t?Vr:lt;return!t&&je(i,"iterate",l?ii:mr),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Ns(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function _u(e,t){const r={get(n){const i=this.__v_raw,o=re(i),a=re(n);e||(Xt(n,a)&&je(o,"get",n),je(o,"get",a));const{has:l}=js(o),c=t?oi:e?Vr:lt;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&je(re(n),"iterate",mr),n.size},has(n){const i=this.__v_raw,o=re(i),a=re(n);return e||(Xt(n,a)&&je(o,"has",n),je(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=re(a),c=t?oi:e?Vr:lt;return!e&&je(l,"iterate",mr),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return ke(r,e?{add:Ns("add"),set:Ns("set"),delete:Ns("delete"),clear:Ns("clear")}:{add(n){!t&&!Qe(n)&&!Nt(n)&&(n=re(n));const i=re(this);return js(i).has.call(i,n)||(i.add(n),Rt(i,"add",n,n)),this},set(n,i){!t&&!Qe(i)&&!Nt(i)&&(i=re(i));const o=re(this),{has:a,get:l}=js(o);let c=a.call(o,n);c||(n=re(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?Xt(i,u)&&Rt(o,"set",n,i):Rt(o,"add",n,i),this},delete(n){const i=re(this),{has:o,get:a}=js(i);let l=o.call(i,n);l||(n=re(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&Rt(i,"delete",n,void 0),c},clear(){const n=re(this),i=n.size!==0,o=n.clear();return i&&Rt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=vu(n,e,t)}),r}function qi(e,t){const r=_u(e,t);return(s,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?s:Reflect.get(oe(r,n)&&n in s?r:s,n,i)}const yu={get:qi(!1,!1)},wu={get:qi(!1,!0)},bu={get:qi(!0,!1)};const ll=new WeakMap,cl=new WeakMap,ul=new WeakMap,Eu=new WeakMap;function Su(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tu(e){return e.__v_skip||!Object.isExtensible(e)?0:Su(Jc(e))}function yn(e){return Nt(e)?e:Hi(e,!1,pu,yu,ll)}function hl(e){return Hi(e,!1,mu,wu,cl)}function ai(e){return Hi(e,!0,gu,bu,ul)}function Hi(e,t,r,s,n){if(!ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=Tu(e);if(i===0)return e;const o=n.get(e);if(o)return o;const a=new Proxy(e,i===2?s:r);return n.set(e,a),a}function vr(e){return Nt(e)?vr(e.__v_raw):!!(e&&e.__v_isReactive)}function Nt(e){return!!(e&&e.__v_isReadonly)}function Qe(e){return!!(e&&e.__v_isShallow)}function Ki(e){return e?!!e.__v_raw:!1}function re(e){const t=e&&e.__v_raw;return t?re(t):e}function Au(e){return!oe(e,"__v_skip")&&Object.isExtensible(e)&&Ga(e,"__v_skip",!0),e}const lt=e=>ce(e)?yn(e):e,Vr=e=>ce(e)?ai(e):e;function $e(e){return e?e.__v_isRef===!0:!1}function wt(e){return dl(e,!1)}function Cu(e){return dl(e,!0)}function dl(e,t){return $e(e)?e:new ku(e,t)}class ku{constructor(t,r){this.dep=new Fi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:re(t),this._value=r?t:lt(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||Qe(t)||Nt(t);t=s?t:re(t),Xt(t,r)&&(this._rawValue=t,this._value=s?t:lt(t),this.dep.trigger())}}function xt(e){return $e(e)?e.value:e}const Ru={get:(e,t,r)=>t==="__v_raw"?e:xt(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const n=e[t];return $e(n)&&!$e(r)?(n.value=r,!0):Reflect.set(e,t,r,s)}};function fl(e){return vr(e)?e:new Proxy(e,Ru)}class Ou{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new Fi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=gs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&pe!==this)return Xa(this,!0),!0}get value(){const t=this.dep.track();return rl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function xu(e,t,r=!1){let s,n;return z(e)?s=e:(s=e.get,n=e.set),new Ou(s,n,r)}const $s={},Zs=new WeakMap;let cr;function Pu(e,t=!1,r=cr){if(r){let s=Zs.get(r);s||Zs.set(r,s=[]),s.push(e)}}function Iu(e,t,r=ue){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,c=E=>n?E:Qe(E)||n===!1||n===0?Ot(E,1):Ot(E);let u,h,d,f,v=!1,_=!1;if($e(e)?(h=()=>e.value,v=Qe(e)):vr(e)?(h=()=>c(e),v=!0):H(e)?(_=!0,v=e.some(E=>vr(E)||Qe(E)),h=()=>e.map(E=>{if($e(E))return E.value;if(vr(E))return c(E);if(z(E))return l?l(E,2):E()})):z(e)?t?h=l?()=>l(e,2):e:h=()=>{if(d){It();try{d()}finally{jt()}}const E=cr;cr=u;try{return l?l(e,3,[f]):e(f)}finally{cr=E}}:h=yt,t&&n){const E=h,O=n===!0?1/0:n;h=()=>Ot(E(),O)}const S=ou(),b=()=>{u.stop(),S&&S.active&&$i(S.effects,u)};if(i&&t){const E=t;t=(...O)=>{E(...O),b()}}let m=_?new Array(e.length).fill($s):$s;const w=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(t){const O=u.run();if(n||v||(_?O.some((P,L)=>Xt(P,m[L])):Xt(O,m))){d&&d();const P=cr;cr=u;try{const L=[O,m===$s?void 0:_&&m[0]===$s?[]:m,f];m=O,l?l(t,3,L):t(...L)}finally{cr=P}}}else u.run()};return a&&a(w),u=new Za(h),u.scheduler=o?()=>o(w,!1):w,f=E=>Pu(E,!1,u),d=u.onStop=()=>{const E=Zs.get(u);if(E){if(l)l(E,4);else for(const O of E)O();Zs.delete(u)}},t?s?w(!0):m=u.run():o?o(w.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Ot(e,t=1/0,r){if(t<=0||!ce(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,$e(e))Ot(e.value,t,r);else if(H(e))for(let s=0;s<e.length;s++)Ot(e[s],t,r);else if(Gr(e)||Lr(e))e.forEach(s=>{Ot(s,t,r)});else if(Wa(e)){for(const s in e)Ot(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Ot(e[s],t,r)}return e}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xs(e,t,r,s){try{return s?e(...s):e()}catch(n){wn(n,t,r)}}function ct(e,t,r,s){if(z(e)){const n=xs(e,t,r,s);return n&&Ha(n)&&n.catch(i=>{wn(i,t,r)}),n}if(H(e)){const n=[];for(let i=0;i<e.length;i++)n.push(ct(e[i],t,r,s));return n}}function wn(e,t,r,s=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ue;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(i){It(),xs(i,null,10,[e,l,c]),jt();return}}ju(e,r,n,s,o)}function ju(e,t,r,s=!0,n=!1){if(n)throw e;console.error(e)}const Ue=[];let vt=-1;const Ur=[];let qt=null,Or=0;const pl=Promise.resolve();let Qs=null;function Wi(e){const t=Qs||pl;return e?t.then(this?e.bind(this):e):t}function Nu(e){let t=vt+1,r=Ue.length;for(;t<r;){const s=t+r>>>1,n=Ue[s],i=vs(n);i<e||i===e&&n.flags&2?t=s+1:r=s}return t}function Gi(e){if(!(e.flags&1)){const t=vs(e),r=Ue[Ue.length-1];!r||!(e.flags&2)&&t>=vs(r)?Ue.push(e):Ue.splice(Nu(t),0,e),e.flags|=1,gl()}}function gl(){Qs||(Qs=pl.then(vl))}function $u(e){H(e)?Ur.push(...e):qt&&e.id===-1?qt.splice(Or+1,0,e):e.flags&1||(Ur.push(e),e.flags|=1),gl()}function _o(e,t,r=vt+1){for(;r<Ue.length;r++){const s=Ue[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Ue.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ml(e){if(Ur.length){const t=[...new Set(Ur)].sort((r,s)=>vs(r)-vs(s));if(Ur.length=0,qt){qt.push(...t);return}for(qt=t,Or=0;Or<qt.length;Or++){const r=qt[Or];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}qt=null,Or=0}}const vs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function vl(e){try{for(vt=0;vt<Ue.length;vt++){const t=Ue[vt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),xs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;vt<Ue.length;vt++){const t=Ue[vt];t&&(t.flags&=-2)}vt=-1,Ue.length=0,ml(),Qs=null,(Ue.length||Ur.length)&&vl()}}let Ie=null,_l=null;function Xs(e){const t=Ie;return Ie=e,_l=e&&e.type.__scopeId||null,t}function Jt(e,t=Ie,r){if(!t||e._n)return e;const s=(...n)=>{s._d&&nn(-1);const i=Xs(t);let o;try{o=e(...n)}finally{Xs(i),s._d&&nn(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Ls(e,t){if(Ie===null)return e;const r=Cn(Ie),s=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=ue]=t[n];i&&(z(i)&&(i={mounted:i,updated:i}),i.deep&&Ot(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function sr(e,t,r,s){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(It(),ct(l,r,8,[e.el,a,e,t]),jt())}}function Ws(e,t){if(Ne){let r=Ne.provides;const s=Ne.parent&&Ne.parent.provides;s===r&&(r=Ne.provides=Object.create(s)),r[e]=t}}function ot(e,t,r=!1){const s=An();if(s||Mr){let n=Mr?Mr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return r&&z(t)?t.call(s&&s.proxy):t}}const Lu=Symbol.for("v-scx"),Du=()=>ot(Lu);function _r(e,t,r){return yl(e,t,r)}function yl(e,t,r=ue){const{immediate:s,deep:n,flush:i,once:o}=r,a=ke({},r),l=t&&s||!t&&i!=="post";let c;if(ws){if(i==="sync"){const f=Du();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=yt,f.resume=yt,f.pause=yt,f}}const u=Ne;a.call=(f,v,_)=>ct(f,u,v,_);let h=!1;i==="post"?a.scheduler=f=>{Ae(f,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,v)=>{v?f():Gi(f)}),a.augmentJob=f=>{t&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=Iu(e,t,a);return ws&&(c?c.push(d):l&&d()),d}function Uu(e,t,r){const s=this.proxy,n=me(e)?e.includes(".")?wl(s,e):()=>s[e]:e.bind(s,s);let i;z(t)?i=t:(i=t.handler,r=t);const o=Ps(this),a=yl(n,i.bind(s),r);return o(),a}function wl(e,t){const r=t.split(".");return()=>{let s=e;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const bl=Symbol("_vte"),El=e=>e.__isTeleport,ls=e=>e&&(e.disabled||e.disabled===""),yo=e=>e&&(e.defer||e.defer===""),wo=e=>typeof SVGElement<"u"&&e instanceof SVGElement,bo=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,li=(e,t)=>{const r=e&&e.to;return me(r)?t?t(r):null:r},Sl={name:"Teleport",__isTeleport:!0,process(e,t,r,s,n,i,o,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:v,createText:_,createComment:S}}=c,b=ls(t.props);let{shapeFlag:m,children:w,dynamicChildren:E}=t;if(e==null){const O=t.el=_(""),P=t.anchor=_("");f(O,r,s),f(P,r,s);const L=(U,Y)=>{m&16&&u(w,U,Y,n,i,o,a,l)},Z=()=>{const U=t.target=li(t.props,v),Y=Tl(U,t,_,f);U&&(o!=="svg"&&wo(U)?o="svg":o!=="mathml"&&bo(U)&&(o="mathml"),n&&n.isCE&&(n.ce._teleportTargets||(n.ce._teleportTargets=new Set)).add(U),b||(L(U,Y),Gs(t,!1)))};b&&(L(r,P),Gs(t,!0)),yo(t.props)?(t.el.__isMounted=!1,Ae(()=>{Z(),delete t.el.__isMounted},i)):Z()}else{if(yo(t.props)&&e.el.__isMounted===!1){Ae(()=>{Sl.process(e,t,r,s,n,i,o,a,l,c)},i);return}t.el=e.el,t.targetStart=e.targetStart;const O=t.anchor=e.anchor,P=t.target=e.target,L=t.targetAnchor=e.targetAnchor,Z=ls(e.props),U=Z?r:P,Y=Z?O:L;if(o==="svg"||wo(P)?o="svg":(o==="mathml"||bo(P))&&(o="mathml"),E?(d(e.dynamicChildren,E,U,n,i,o,a),eo(e,t,!0)):l||h(e,t,U,Y,n,i,o,a,!1),b)Z?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Ds(t,r,O,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const te=t.target=li(t.props,v);te&&Ds(t,te,null,c,0)}else Z&&Ds(t,P,L,c,1);Gs(t,b)}},remove(e,t,r,{um:s,o:{remove:n}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:h,props:d}=e;if(h&&(n(c),n(u)),i&&n(l),o&16){const f=i||!ls(d);for(let v=0;v<a.length;v++){const _=a[v];s(_,t,r,f,!!_.dynamicChildren)}}},move:Ds,hydrate:Mu};function Ds(e,t,r,{o:{insert:s},m:n},i=2){i===0&&s(e.targetAnchor,t,r);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=e,h=i===2;if(h&&s(o,t,r),(!h||ls(u))&&l&16)for(let d=0;d<c.length;d++)n(c[d],t,r,2);h&&s(a,t,r)}function Mu(e,t,r,s,n,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},h){function d(_,S,b,m){S.anchor=h(o(_),S,a(_),r,s,n,i),S.targetStart=b,S.targetAnchor=m}const f=t.target=li(t.props,l),v=ls(t.props);if(f){const _=f._lpa||f.firstChild;if(t.shapeFlag&16)if(v)d(e,t,_,_&&o(_));else{t.anchor=o(e);let S=_;for(;S;){if(S&&S.nodeType===8){if(S.data==="teleport start anchor")t.targetStart=S;else if(S.data==="teleport anchor"){t.targetAnchor=S,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}S=o(S)}t.targetAnchor||Tl(f,t,u,c),h(_&&o(_),t,f,r,s,n,i)}Gs(t,v)}else v&&t.shapeFlag&16&&d(e,t,e,o(e));return t.anchor&&o(t.anchor)}const Bu=Sl;function Gs(e,t){const r=e.ctx;if(r&&r.ut){let s,n;for(t?(s=e.el,n=e.anchor):(s=e.targetStart,n=e.targetAnchor);s&&s!==n;)s.nodeType===1&&s.setAttribute("data-v-owner",r.uid),s=s.nextSibling;r.ut()}}function Tl(e,t,r,s){const n=t.targetStart=r(""),i=t.targetAnchor=r("");return n[bl]=i,e&&(s(n,e),s(i,e)),i}const kt=Symbol("_leaveCb"),Us=Symbol("_enterCb");function Al(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zr(()=>{e.isMounted=!0}),Yi(()=>{e.isUnmounting=!0}),e}const Ye=[Function,Array],Cl={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ye,onEnter:Ye,onAfterEnter:Ye,onEnterCancelled:Ye,onBeforeLeave:Ye,onLeave:Ye,onAfterLeave:Ye,onLeaveCancelled:Ye,onBeforeAppear:Ye,onAppear:Ye,onAfterAppear:Ye,onAppearCancelled:Ye},kl=e=>{const t=e.subTree;return t.component?kl(t.component):t},Vu={name:"BaseTransition",props:Cl,setup(e,{slots:t}){const r=An(),s=Al();return()=>{const n=t.default&&Ji(t.default(),!0);if(!n||!n.length)return;const i=Rl(n),o=re(e),{mode:a}=o;if(s.isLeaving)return Dn(i);const l=Eo(i);if(!l)return Dn(i);let c=_s(l,o,s,r,h=>c=h);l.type!==Pe&&tr(l,c);let u=r.subTree&&Eo(r.subTree);if(u&&u.type!==Pe&&!zt(u,l)&&kl(r).type!==Pe){let h=_s(u,o,s,r);if(tr(u,h),a==="out-in"&&l.type!==Pe)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete h.afterLeave,u=void 0},Dn(i);a==="in-out"&&l.type!==Pe?h.delayLeave=(d,f,v)=>{const _=Ol(s,u);_[String(u.key)]=u,d[kt]=()=>{f(),d[kt]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{v(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Rl(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==Pe){t=r;break}}return t}const Fu=Vu;function Ol(e,t){const{leavingVNodes:r}=e;let s=r.get(t.type);return s||(s=Object.create(null),r.set(t.type,s)),s}function _s(e,t,r,s,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:S,onAppear:b,onAfterAppear:m,onAppearCancelled:w}=t,E=String(e.key),O=Ol(r,e),P=(U,Y)=>{U&&ct(U,s,9,Y)},L=(U,Y)=>{const te=Y[1];P(U,Y),H(U)?U.every(M=>M.length<=1)&&te():U.length<=1&&te()},Z={mode:o,persisted:a,beforeEnter(U){let Y=l;if(!r.isMounted)if(i)Y=S||l;else return;U[kt]&&U[kt](!0);const te=O[E];te&&zt(e,te)&&te.el[kt]&&te.el[kt](),P(Y,[U])},enter(U){let Y=c,te=u,M=h;if(!r.isMounted)if(i)Y=b||c,te=m||u,M=w||h;else return;let se=!1;const Re=U[Us]=qe=>{se||(se=!0,qe?P(M,[U]):P(te,[U]),Z.delayedLeave&&Z.delayedLeave(),U[Us]=void 0)};Y?L(Y,[U,Re]):Re()},leave(U,Y){const te=String(e.key);if(U[Us]&&U[Us](!0),r.isUnmounting)return Y();P(d,[U]);let M=!1;const se=U[kt]=Re=>{M||(M=!0,Y(),Re?P(_,[U]):P(v,[U]),U[kt]=void 0,O[te]===e&&delete O[te])};O[te]=e,f?L(f,[U,se]):se()},clone(U){const Y=_s(U,t,r,s,n);return n&&n(Y),Y}};return Z}function Dn(e){if(bn(e))return e=$t(e),e.children=null,e}function Eo(e){if(!bn(e))return El(e.type)&&e.children?Rl(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&z(r.default))return r.default()}}function tr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,tr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ji(e,t=!1,r){let s=[],n=0;for(let i=0;i<e.length;i++){let o=e[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Ce?(o.patchFlag&128&&n++,s=s.concat(Ji(o.children,t,a))):(t||o.type!==Pe)&&s.push(a!=null?$t(o,{key:a}):o)}if(n>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function xl(e,t){return z(e)?ke({name:e.name},t,{setup:e}):e}function Pl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const en=new WeakMap;function cs(e,t,r,s,n=!1){if(H(e)){e.forEach((v,_)=>cs(v,t&&(H(t)?t[_]:t),r,s,n));return}if(er(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&cs(e,t,r,s.component.subTree);return}const i=s.shapeFlag&4?Cn(s.component):s.el,o=n?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ue?a.refs={}:a.refs,h=a.setupState,d=re(h),f=h===ue?qa:v=>oe(d,v);if(c!=null&&c!==l){if(So(t),me(c))u[c]=null,f(c)&&(h[c]=null);else if($e(c)){c.value=null;const v=t;v.k&&(u[v.k]=null)}}if(z(l))xs(l,a,12,[o,u]);else{const v=me(l),_=$e(l);if(v||_){const S=()=>{if(e.f){const b=v?f(l)?h[l]:u[l]:l.value;if(n)H(b)&&$i(b,i);else if(H(b))b.includes(i)||b.push(i);else if(v)u[l]=[i],f(l)&&(h[l]=u[l]);else{const m=[i];l.value=m,e.k&&(u[e.k]=m)}}else v?(u[l]=o,f(l)&&(h[l]=o)):_&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const b=()=>{S(),en.delete(e)};b.id=-1,en.set(e,b),Ae(b,r)}else So(e),S()}}}function So(e){const t=en.get(e);t&&(t.flags|=8,en.delete(e))}vn().requestIdleCallback;vn().cancelIdleCallback;const er=e=>!!e.type.__asyncLoader,bn=e=>e.type.__isKeepAlive,qu={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=An(),s=r.ctx;if(!s.renderer)return()=>{const m=t.default&&t.default();return m&&m.length===1?m[0]:m};const n=new Map,i=new Set;let o=null;const a=r.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=s,d=h("div");s.activate=(m,w,E,O,P)=>{const L=m.component;c(m,w,E,0,a),l(L.vnode,m,w,E,L,a,O,m.slotScopeIds,P),Ae(()=>{L.isDeactivated=!1,L.a&&Dr(L.a);const Z=m.props&&m.props.onVnodeMounted;Z&&Ze(Z,L.parent,m)},a)},s.deactivate=m=>{const w=m.component;rn(w.m),rn(w.a),c(m,d,null,1,a),Ae(()=>{w.da&&Dr(w.da);const E=m.props&&m.props.onVnodeUnmounted;E&&Ze(E,w.parent,m),w.isDeactivated=!0},a)};function f(m){Un(m),u(m,r,a,!0)}function v(m){n.forEach((w,E)=>{const O=gi(er(w)?w.type.__asyncResolved||{}:w.type);O&&!m(O)&&_(E)})}function _(m){const w=n.get(m);w&&(!o||!zt(w,o))?f(w):o&&Un(o),n.delete(m),i.delete(m)}_r(()=>[e.include,e.exclude],([m,w])=>{m&&v(E=>rs(m,E)),w&&v(E=>!rs(w,E))},{flush:"post",deep:!0});let S=null;const b=()=>{S!=null&&(sn(r.subTree.type)?Ae(()=>{n.set(S,Ms(r.subTree))},r.subTree.suspense):n.set(S,Ms(r.subTree)))};return zr(b),zi(b),Yi(()=>{n.forEach(m=>{const{subTree:w,suspense:E}=r,O=Ms(w);if(m.type===O.type&&m.key===O.key){Un(O);const P=O.component.da;P&&Ae(P,E);return}f(m)})}),()=>{if(S=null,!t.default)return o=null;const m=t.default(),w=m[0];if(m.length>1)return o=null,m;if(!Fr(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let E=Ms(w);if(E.type===Pe)return o=null,E;const O=E.type,P=gi(er(E)?E.type.__asyncResolved||{}:O),{include:L,exclude:Z,max:U}=e;if(L&&(!P||!rs(L,P))||Z&&P&&rs(Z,P))return E.shapeFlag&=-257,o=E,w;const Y=E.key==null?O:E.key,te=n.get(Y);return E.el&&(E=$t(E),w.shapeFlag&128&&(w.ssContent=E)),S=Y,te?(E.el=te.el,E.component=te.component,E.transition&&tr(E,E.transition),E.shapeFlag|=512,i.delete(Y),i.add(Y)):(i.add(Y),U&&i.size>parseInt(U,10)&&_(i.values().next().value)),E.shapeFlag|=256,o=E,sn(w.type)?w:E}}},Hu=qu;function rs(e,t){return H(e)?e.some(r=>rs(r,t)):me(e)?e.split(",").includes(t):Gc(e)?(e.lastIndex=0,e.test(t)):!1}function Ku(e,t){Il(e,"a",t)}function Wu(e,t){Il(e,"da",t)}function Il(e,t,r=Ne){const s=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(En(t,s,r),r){let n=r.parent;for(;n&&n.parent;)bn(n.parent.vnode)&&Gu(s,t,r,n),n=n.parent}}function Gu(e,t,r,s){const n=En(t,e,s,!0);Zi(()=>{$i(s[t],n)},r)}function Un(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ms(e){return e.shapeFlag&128?e.ssContent:e}function En(e,t,r=Ne,s=!1){if(r){const n=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{It();const a=Ps(r),l=ct(t,r,e,o);return a(),jt(),l});return s?n.unshift(i):n.push(i),i}}const Lt=e=>(t,r=Ne)=>{(!ws||e==="sp")&&En(e,(...s)=>t(...s),r)},Ju=Lt("bm"),zr=Lt("m"),zu=Lt("bu"),zi=Lt("u"),Yi=Lt("bum"),Zi=Lt("um"),Yu=Lt("sp"),Zu=Lt("rtg"),Qu=Lt("rtc");function Xu(e,t=Ne){En("ec",e,t)}const jl="components";function Nl(e,t){return Ll(jl,e,!0,t)||e}const $l=Symbol.for("v-ndc");function To(e){return me(e)?Ll(jl,e,!1)||e:e||$l}function Ll(e,t,r=!0,s=!1){const n=Ie||Ne;if(n){const i=n.type;{const a=gi(i,!1);if(a&&(a===t||a===Xe(t)||a===gn(Xe(t))))return i}const o=Ao(n[e]||i[e],t)||Ao(n.appContext[e],t);return!o&&s?i:o}}function Ao(e,t){return e&&(e[t]||e[Xe(t)]||e[gn(Xe(t))])}function ci(e,t,r,s){let n;const i=r,o=H(e);if(o||me(e)){const a=o&&vr(e);let l=!1,c=!1;a&&(l=!Qe(e),c=Nt(e),e=_n(e)),n=new Array(e.length);for(let u=0,h=e.length;u<h;u++)n[u]=t(l?c?Vr(lt(e[u])):lt(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(ce(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=t(e[u],u,l,i)}}else n=[];return n}function eh(e,t,r={},s,n){if(Ie.ce||Ie.parent&&er(Ie.parent)&&Ie.parent.ce){const c=Object.keys(r).length>0;return t!=="default"&&(r.name=t),ee(),Qt(Ce,null,[ge("slot",r,s&&s())],c?-2:64)}let i=e[t];i&&i._c&&(i._d=!1),ee();const o=i&&Dl(i(r)),a=r.key||o&&o.key,l=Qt(Ce,{key:(a&&!at(a)?a:`_${t}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&e._===1?64:-2);return i&&i._c&&(i._d=!0),l}function Dl(e){return e.some(t=>Fr(t)?!(t.type===Pe||t.type===Ce&&!Dl(t.children)):!0)?e:null}const ui=e=>e?tc(e)?Cn(e):ui(e.parent):null,us=ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ui(e.parent),$root:e=>ui(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ml(e),$forceUpdate:e=>e.f||(e.f=()=>{Gi(e.update)}),$nextTick:e=>e.n||(e.n=Wi.bind(e.proxy)),$watch:e=>Uu.bind(e)}),Mn=(e,t)=>e!==ue&&!e.__isScriptSetup&&oe(e,t),th={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=e;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return s[t];case 2:return n[t];case 4:return r[t];case 3:return i[t]}else{if(Mn(s,t))return o[t]=1,s[t];if(n!==ue&&oe(n,t))return o[t]=2,n[t];if(oe(i,t))return o[t]=3,i[t];if(r!==ue&&oe(r,t))return o[t]=4,r[t];hi&&(o[t]=0)}}const c=us[t];let u,h;if(c)return t==="$attrs"&&je(e.attrs,"get",""),c(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(r!==ue&&oe(r,t))return o[t]=4,r[t];if(h=l.config.globalProperties,oe(h,t))return h[t]},set({_:e},t,r){const{data:s,setupState:n,ctx:i}=e;return Mn(n,t)?(n[t]=r,!0):s!==ue&&oe(s,t)?(s[t]=r,!0):oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:n,props:i,type:o}},a){let l;return!!(r[a]||e!==ue&&a[0]!=="$"&&oe(e,a)||Mn(t,a)||oe(i,a)||oe(s,a)||oe(us,a)||oe(n.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:oe(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Co(e){return H(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let hi=!0;function rh(e){const t=Ml(e),r=e.proxy,s=e.ctx;hi=!1,t.beforeCreate&&ko(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:v,activated:_,deactivated:S,beforeDestroy:b,beforeUnmount:m,destroyed:w,unmounted:E,render:O,renderTracked:P,renderTriggered:L,errorCaptured:Z,serverPrefetch:U,expose:Y,inheritAttrs:te,components:M,directives:se,filters:Re}=t;if(c&&sh(c,s,null),o)for(const le in o){const ne=o[le];z(ne)&&(s[le]=ne.bind(r))}if(n){const le=n.call(r,r);ce(le)&&(e.data=yn(le))}if(hi=!0,i)for(const le in i){const ne=i[le],bt=z(ne)?ne.bind(r,r):z(ne.get)?ne.get.bind(r,r):yt,Ut=!z(ne)&&z(ne.set)?ne.set.bind(r):yt,dt=Ee({get:bt,set:Ut});Object.defineProperty(s,le,{enumerable:!0,configurable:!0,get:()=>dt.value,set:Me=>dt.value=Me})}if(a)for(const le in a)Ul(a[le],s,r,le);if(l){const le=z(l)?l.call(r):l;Reflect.ownKeys(le).forEach(ne=>{Ws(ne,le[ne])})}u&&ko(u,e,"c");function we(le,ne){H(ne)?ne.forEach(bt=>le(bt.bind(r))):ne&&le(ne.bind(r))}if(we(Ju,h),we(zr,d),we(zu,f),we(zi,v),we(Ku,_),we(Wu,S),we(Xu,Z),we(Qu,P),we(Zu,L),we(Yi,m),we(Zi,E),we(Yu,U),H(Y))if(Y.length){const le=e.exposed||(e.exposed={});Y.forEach(ne=>{Object.defineProperty(le,ne,{get:()=>r[ne],set:bt=>r[ne]=bt,enumerable:!0})})}else e.exposed||(e.exposed={});O&&e.render===yt&&(e.render=O),te!=null&&(e.inheritAttrs=te),M&&(e.components=M),se&&(e.directives=se),U&&Pl(e)}function sh(e,t,r=yt){H(e)&&(e=di(e));for(const s in e){const n=e[s];let i;ce(n)?"default"in n?i=ot(n.from||s,n.default,!0):i=ot(n.from||s):i=ot(n),$e(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function ko(e,t,r){ct(H(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ul(e,t,r,s){let n=s.includes(".")?wl(r,s):()=>r[s];if(me(e)){const i=t[e];z(i)&&_r(n,i)}else if(z(e))_r(n,e.bind(r));else if(ce(e))if(H(e))e.forEach(i=>Ul(i,t,r,s));else{const i=z(e.handler)?e.handler.bind(r):t[e.handler];z(i)&&_r(n,i,e)}}function Ml(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!r&&!s?l=t:(l={},n.length&&n.forEach(c=>tn(l,c,o,!0)),tn(l,t,o)),ce(t)&&i.set(t,l),l}function tn(e,t,r,s=!1){const{mixins:n,extends:i}=t;i&&tn(e,i,r,!0),n&&n.forEach(o=>tn(e,o,r,!0));for(const o in t)if(!(s&&o==="expose")){const a=nh[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const nh={data:Ro,props:Oo,emits:Oo,methods:ss,computed:ss,beforeCreate:Le,created:Le,beforeMount:Le,mounted:Le,beforeUpdate:Le,updated:Le,beforeDestroy:Le,beforeUnmount:Le,destroyed:Le,unmounted:Le,activated:Le,deactivated:Le,errorCaptured:Le,serverPrefetch:Le,components:ss,directives:ss,watch:oh,provide:Ro,inject:ih};function Ro(e,t){return t?e?function(){return ke(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function ih(e,t){return ss(di(e),di(t))}function di(e){if(H(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Le(e,t){return e?[...new Set([].concat(e,t))]:t}function ss(e,t){return e?ke(Object.create(null),e,t):t}function Oo(e,t){return e?H(e)&&H(t)?[...new Set([...e,...t])]:ke(Object.create(null),Co(e),Co(t??{})):t}function oh(e,t){if(!e)return t;if(!t)return e;const r=ke(Object.create(null),e);for(const s in t)r[s]=Le(e[s],t[s]);return r}function Bl(){return{app:null,config:{isNativeTag:qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ah=0;function lh(e,t){return function(s,n=null){z(s)||(s=ke({},s)),n!=null&&!ce(n)&&(n=null);const i=Bl(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:ah++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:Mh,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&z(u.install)?(o.add(u),u.install(c,...h)):z(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||ge(s,n);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(f,u,d),l=!0,c._container=u,u.__vue_app__=c,Cn(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(ct(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=Mr;Mr=c;try{return u()}finally{Mr=h}}};return c}}let Mr=null;const ch=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Xe(t)}Modifiers`]||e[`${yr(t)}Modifiers`];function uh(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||ue;let n=r;const i=t.startsWith("update:"),o=i&&ch(s,t.slice(7));o&&(o.trim&&(n=r.map(u=>me(u)?u.trim():u)),o.number&&(n=r.map(mn)));let a,l=s[a=In(t)]||s[a=In(Xe(t))];!l&&i&&(l=s[a=In(yr(t))]),l&&ct(l,e,6,n);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ct(c,e,6,n)}}const hh=new WeakMap;function Vl(e,t,r=!1){const s=r?hh:t.emitsCache,n=s.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!z(e)){const l=c=>{const u=Vl(c,t,!0);u&&(a=!0,ke(o,u))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ce(e)&&s.set(e,null),null):(H(i)?i.forEach(l=>o[l]=null):ke(o,i),ce(e)&&s.set(e,o),o)}function Sn(e,t){return!e||!fn(t)?!1:(t=t.slice(2).replace(/Once$/,""),oe(e,t[0].toLowerCase()+t.slice(1))||oe(e,yr(t))||oe(e,t))}function xo(e){const{type:t,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:v,inheritAttrs:_}=e,S=Xs(e);let b,m;try{if(r.shapeFlag&4){const E=n||s,O=E;b=_t(c.call(O,E,u,h,f,d,v)),m=a}else{const E=t;b=_t(E.length>1?E(h,{attrs:a,slots:o,emit:l}):E(h,null)),m=t.props?a:dh(a)}}catch(E){hs.length=0,wn(E,e,1),b=ge(Pe)}let w=b;if(m&&_!==!1){const E=Object.keys(m),{shapeFlag:O}=w;E.length&&O&7&&(i&&E.some(Ni)&&(m=fh(m,i)),w=$t(w,m,!1,!0))}return r.dirs&&(w=$t(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&tr(w,r.transition),b=w,Xs(S),b}const dh=e=>{let t;for(const r in e)(r==="class"||r==="style"||fn(r))&&((t||(t={}))[r]=e[r]);return t},fh=(e,t)=>{const r={};for(const s in e)(!Ni(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function ph(e,t,r){const{props:s,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?Po(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!Sn(c,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Po(s,o,c):!0:!!o;return!1}function Po(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(t[i]!==e[i]&&!Sn(r,i))return!0}return!1}function gh({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const Fl={},ql=()=>Object.create(Fl),Hl=e=>Object.getPrototypeOf(e)===Fl;function mh(e,t,r,s=!1){const n={},i=ql();e.propsDefaults=Object.create(null),Kl(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);r?e.props=s?n:hl(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function vh(e,t,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=re(n),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Sn(e.emitsOptions,d))continue;const f=t[d];if(l)if(oe(i,d))f!==i[d]&&(i[d]=f,c=!0);else{const v=Xe(d);n[v]=fi(l,a,v,f,e,!1)}else f!==i[d]&&(i[d]=f,c=!0)}}}else{Kl(e,t,n,i)&&(c=!0);let u;for(const h in a)(!t||!oe(t,h)&&((u=yr(h))===h||!oe(t,u)))&&(l?r&&(r[h]!==void 0||r[u]!==void 0)&&(n[h]=fi(l,a,h,void 0,e,!0)):delete n[h]);if(i!==a)for(const h in i)(!t||!oe(t,h))&&(delete i[h],c=!0)}c&&Rt(e.attrs,"set","")}function Kl(e,t,r,s){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(is(l))continue;const c=t[l];let u;n&&oe(n,u=Xe(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:Sn(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=re(r),c=a||ue;for(let u=0;u<i.length;u++){const h=i[u];r[h]=fi(n,l,h,c[h],e,!oe(c,h))}}return o}function fi(e,t,r,s,n,i){const o=e[r];if(o!=null){const a=oe(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&z(l)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const u=Ps(n);s=c[r]=l.call(null,t),u()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===yr(r))&&(s=!0))}return s}const _h=new WeakMap;function Wl(e,t,r=!1){const s=r?_h:t.propsCache,n=s.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!z(e)){const u=h=>{l=!0;const[d,f]=Wl(h,t,!0);ke(o,d),f&&a.push(...f)};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return ce(e)&&s.set(e,$r),$r;if(H(i))for(let u=0;u<i.length;u++){const h=Xe(i[u]);Io(h)&&(o[h]=ue)}else if(i)for(const u in i){const h=Xe(u);if(Io(h)){const d=i[u],f=o[h]=H(d)||z(d)?{type:d}:ke({},d),v=f.type;let _=!1,S=!0;if(H(v))for(let b=0;b<v.length;++b){const m=v[b],w=z(m)&&m.name;if(w==="Boolean"){_=!0;break}else w==="String"&&(S=!1)}else _=z(v)&&v.name==="Boolean";f[0]=_,f[1]=S,(_||oe(f,"default"))&&a.push(h)}}const c=[o,a];return ce(e)&&s.set(e,c),c}function Io(e){return e[0]!=="$"&&!is(e)}const Qi=e=>e==="_"||e==="_ctx"||e==="$stable",Xi=e=>H(e)?e.map(_t):[_t(e)],yh=(e,t,r)=>{if(t._n)return t;const s=Jt((...n)=>Xi(t(...n)),r);return s._c=!1,s},Gl=(e,t,r)=>{const s=e._ctx;for(const n in e){if(Qi(n))continue;const i=e[n];if(z(i))t[n]=yh(n,i,s);else if(i!=null){const o=Xi(i);t[n]=()=>o}}},Jl=(e,t)=>{const r=Xi(t);e.slots.default=()=>r},zl=(e,t,r)=>{for(const s in t)(r||!Qi(s))&&(e[s]=t[s])},wh=(e,t,r)=>{const s=e.slots=ql();if(e.vnode.shapeFlag&32){const n=t._;n?(zl(s,t,r),r&&Ga(s,"_",n,!0)):Gl(t,s)}else t&&Jl(e,t)},bh=(e,t,r)=>{const{vnode:s,slots:n}=e;let i=!0,o=ue;if(s.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:zl(n,t,r):(i=!t.$stable,Gl(t,n)),o=t}else t&&(Jl(e,t),o={default:1});if(i)for(const a in n)!Qi(a)&&o[a]==null&&delete n[a]},Ae=Ch;function Eh(e){return Sh(e)}function Sh(e,t){const r=vn();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=yt,insertStaticContent:v}=e,_=(p,g,y,T=null,k=null,A=null,N=void 0,I=null,x=!!g.dynamicChildren)=>{if(p===g)return;p&&!zt(p,g)&&(T=C(p),Me(p,k,A,!0),p=null),g.patchFlag===-2&&(x=!1,g.dynamicChildren=null);const{type:R,ref:K,shapeFlag:D}=g;switch(R){case Tn:S(p,g,y,T);break;case Pe:b(p,g,y,T);break;case Js:p==null&&m(g,y,T,N);break;case Ce:M(p,g,y,T,k,A,N,I,x);break;default:D&1?O(p,g,y,T,k,A,N,I,x):D&6?se(p,g,y,T,k,A,N,I,x):(D&64||D&128)&&R.process(p,g,y,T,k,A,N,I,x,F)}K!=null&&k?cs(K,p&&p.ref,A,g||p,!g):K==null&&p&&p.ref!=null&&cs(p.ref,null,A,p,!0)},S=(p,g,y,T)=>{if(p==null)s(g.el=a(g.children),y,T);else{const k=g.el=p.el;g.children!==p.children&&c(k,g.children)}},b=(p,g,y,T)=>{p==null?s(g.el=l(g.children||""),y,T):g.el=p.el},m=(p,g,y,T)=>{[p.el,p.anchor]=v(p.children,g,y,T,p.el,p.anchor)},w=({el:p,anchor:g},y,T)=>{let k;for(;p&&p!==g;)k=d(p),s(p,y,T),p=k;s(g,y,T)},E=({el:p,anchor:g})=>{let y;for(;p&&p!==g;)y=d(p),n(p),p=y;n(g)},O=(p,g,y,T,k,A,N,I,x)=>{if(g.type==="svg"?N="svg":g.type==="math"&&(N="mathml"),p==null)P(g,y,T,k,A,N,I,x);else{const R=p.el&&p.el._isVueCE?p.el:null;try{R&&R._beginPatch(),U(p,g,k,A,N,I,x)}finally{R&&R._endPatch()}}},P=(p,g,y,T,k,A,N,I)=>{let x,R;const{props:K,shapeFlag:D,transition:q,dirs:J}=p;if(x=p.el=o(p.type,A,K&&K.is,K),D&8?u(x,p.children):D&16&&Z(p.children,x,null,T,k,Bn(p,A),N,I),J&&sr(p,null,T,"created"),L(x,p,p.scopeId,N,T),K){for(const he in K)he!=="value"&&!is(he)&&i(x,he,null,K[he],A,T);"value"in K&&i(x,"value",null,K.value,A),(R=K.onVnodeBeforeMount)&&Ze(R,T,p)}J&&sr(p,null,T,"beforeMount");const X=Th(k,q);X&&q.beforeEnter(x),s(x,g,y),((R=K&&K.onVnodeMounted)||X||J)&&Ae(()=>{R&&Ze(R,T,p),X&&q.enter(x),J&&sr(p,null,T,"mounted")},k)},L=(p,g,y,T,k)=>{if(y&&f(p,y),T)for(let A=0;A<T.length;A++)f(p,T[A]);if(k){let A=k.subTree;if(g===A||sn(A.type)&&(A.ssContent===g||A.ssFallback===g)){const N=k.vnode;L(p,N,N.scopeId,N.slotScopeIds,k.parent)}}},Z=(p,g,y,T,k,A,N,I,x=0)=>{for(let R=x;R<p.length;R++){const K=p[R]=I?Ht(p[R]):_t(p[R]);_(null,K,g,y,T,k,A,N,I)}},U=(p,g,y,T,k,A,N)=>{const I=g.el=p.el;let{patchFlag:x,dynamicChildren:R,dirs:K}=g;x|=p.patchFlag&16;const D=p.props||ue,q=g.props||ue;let J;if(y&&nr(y,!1),(J=q.onVnodeBeforeUpdate)&&Ze(J,y,g,p),K&&sr(g,p,y,"beforeUpdate"),y&&nr(y,!0),(D.innerHTML&&q.innerHTML==null||D.textContent&&q.textContent==null)&&u(I,""),R?Y(p.dynamicChildren,R,I,y,T,Bn(g,k),A):N||ne(p,g,I,null,y,T,Bn(g,k),A,!1),x>0){if(x&16)te(I,D,q,y,k);else if(x&2&&D.class!==q.class&&i(I,"class",null,q.class,k),x&4&&i(I,"style",D.style,q.style,k),x&8){const X=g.dynamicProps;for(let he=0;he<X.length;he++){const ae=X[he],Be=D[ae],Ve=q[ae];(Ve!==Be||ae==="value")&&i(I,ae,Be,Ve,k,y)}}x&1&&p.children!==g.children&&u(I,g.children)}else!N&&R==null&&te(I,D,q,y,k);((J=q.onVnodeUpdated)||K)&&Ae(()=>{J&&Ze(J,y,g,p),K&&sr(g,p,y,"updated")},T)},Y=(p,g,y,T,k,A,N)=>{for(let I=0;I<g.length;I++){const x=p[I],R=g[I],K=x.el&&(x.type===Ce||!zt(x,R)||x.shapeFlag&198)?h(x.el):y;_(x,R,K,null,T,k,A,N,!0)}},te=(p,g,y,T,k)=>{if(g!==y){if(g!==ue)for(const A in g)!is(A)&&!(A in y)&&i(p,A,g[A],null,k,T);for(const A in y){if(is(A))continue;const N=y[A],I=g[A];N!==I&&A!=="value"&&i(p,A,I,N,k,T)}"value"in y&&i(p,"value",g.value,y.value,k)}},M=(p,g,y,T,k,A,N,I,x)=>{const R=g.el=p?p.el:a(""),K=g.anchor=p?p.anchor:a("");let{patchFlag:D,dynamicChildren:q,slotScopeIds:J}=g;J&&(I=I?I.concat(J):J),p==null?(s(R,y,T),s(K,y,T),Z(g.children||[],y,K,k,A,N,I,x)):D>0&&D&64&&q&&p.dynamicChildren&&p.dynamicChildren.length===q.length?(Y(p.dynamicChildren,q,y,k,A,N,I),(g.key!=null||k&&g===k.subTree)&&eo(p,g,!0)):ne(p,g,y,K,k,A,N,I,x)},se=(p,g,y,T,k,A,N,I,x)=>{g.slotScopeIds=I,p==null?g.shapeFlag&512?k.ctx.activate(g,y,T,N,x):Re(g,y,T,k,A,N,x):qe(p,g,x)},Re=(p,g,y,T,k,A,N)=>{const I=p.component=jh(p,T,k);if(bn(p)&&(I.ctx.renderer=F),Nh(I,!1,N),I.asyncDep){if(k&&k.registerDep(I,we,N),!p.el){const x=I.subTree=ge(Pe);b(null,x,g,y),p.placeholder=x.el}}else we(I,p,g,y,k,A,N)},qe=(p,g,y)=>{const T=g.component=p.component;if(ph(p,g,y))if(T.asyncDep&&!T.asyncResolved){le(T,g,y);return}else T.next=g,T.update();else g.el=p.el,T.vnode=g},we=(p,g,y,T,k,A,N)=>{const I=()=>{if(p.isMounted){let{next:D,bu:q,u:J,parent:X,vnode:he}=p;{const pt=Yl(p);if(pt){D&&(D.el=he.el,le(p,D,N)),pt.asyncDep.then(()=>{p.isUnmounted||I()});return}}let ae=D,Be;nr(p,!1),D?(D.el=he.el,le(p,D,N)):D=he,q&&Dr(q),(Be=D.props&&D.props.onVnodeBeforeUpdate)&&Ze(Be,X,D,he),nr(p,!0);const Ve=xo(p),ft=p.subTree;p.subTree=Ve,_(ft,Ve,h(ft.el),C(ft),p,k,A),D.el=Ve.el,ae===null&&gh(p,Ve.el),J&&Ae(J,k),(Be=D.props&&D.props.onVnodeUpdated)&&Ae(()=>Ze(Be,X,D,he),k)}else{let D;const{el:q,props:J}=g,{bm:X,m:he,parent:ae,root:Be,type:Ve}=p,ft=er(g);nr(p,!1),X&&Dr(X),!ft&&(D=J&&J.onVnodeBeforeMount)&&Ze(D,ae,g),nr(p,!0);{Be.ce&&Be.ce._def.shadowRoot!==!1&&Be.ce._injectChildStyle(Ve);const pt=p.subTree=xo(p);_(null,pt,y,T,p,k,A),g.el=pt.el}if(he&&Ae(he,k),!ft&&(D=J&&J.onVnodeMounted)){const pt=g;Ae(()=>Ze(D,ae,pt),k)}(g.shapeFlag&256||ae&&er(ae.vnode)&&ae.vnode.shapeFlag&256)&&p.a&&Ae(p.a,k),p.isMounted=!0,g=y=T=null}};p.scope.on();const x=p.effect=new Za(I);p.scope.off();const R=p.update=x.run.bind(x),K=p.job=x.runIfDirty.bind(x);K.i=p,K.id=p.uid,x.scheduler=()=>Gi(K),nr(p,!0),R()},le=(p,g,y)=>{g.component=p;const T=p.vnode.props;p.vnode=g,p.next=null,vh(p,g.props,T,y),bh(p,g.children,y),It(),_o(p),jt()},ne=(p,g,y,T,k,A,N,I,x=!1)=>{const R=p&&p.children,K=p?p.shapeFlag:0,D=g.children,{patchFlag:q,shapeFlag:J}=g;if(q>0){if(q&128){Ut(R,D,y,T,k,A,N,I,x);return}else if(q&256){bt(R,D,y,T,k,A,N,I,x);return}}J&8?(K&16&&ze(R,k,A),D!==R&&u(y,D)):K&16?J&16?Ut(R,D,y,T,k,A,N,I,x):ze(R,k,A,!0):(K&8&&u(y,""),J&16&&Z(D,y,T,k,A,N,I,x))},bt=(p,g,y,T,k,A,N,I,x)=>{p=p||$r,g=g||$r;const R=p.length,K=g.length,D=Math.min(R,K);let q;for(q=0;q<D;q++){const J=g[q]=x?Ht(g[q]):_t(g[q]);_(p[q],J,y,null,k,A,N,I,x)}R>K?ze(p,k,A,!0,!1,D):Z(g,y,T,k,A,N,I,x,D)},Ut=(p,g,y,T,k,A,N,I,x)=>{let R=0;const K=g.length;let D=p.length-1,q=K-1;for(;R<=D&&R<=q;){const J=p[R],X=g[R]=x?Ht(g[R]):_t(g[R]);if(zt(J,X))_(J,X,y,null,k,A,N,I,x);else break;R++}for(;R<=D&&R<=q;){const J=p[D],X=g[q]=x?Ht(g[q]):_t(g[q]);if(zt(J,X))_(J,X,y,null,k,A,N,I,x);else break;D--,q--}if(R>D){if(R<=q){const J=q+1,X=J<K?g[J].el:T;for(;R<=q;)_(null,g[R]=x?Ht(g[R]):_t(g[R]),y,X,k,A,N,I,x),R++}}else if(R>q)for(;R<=D;)Me(p[R],k,A,!0),R++;else{const J=R,X=R,he=new Map;for(R=X;R<=q;R++){const He=g[R]=x?Ht(g[R]):_t(g[R]);He.key!=null&&he.set(He.key,R)}let ae,Be=0;const Ve=q-X+1;let ft=!1,pt=0;const Yr=new Array(Ve);for(R=0;R<Ve;R++)Yr[R]=0;for(R=J;R<=D;R++){const He=p[R];if(Be>=Ve){Me(He,k,A,!0);continue}let gt;if(He.key!=null)gt=he.get(He.key);else for(ae=X;ae<=q;ae++)if(Yr[ae-X]===0&&zt(He,g[ae])){gt=ae;break}gt===void 0?Me(He,k,A,!0):(Yr[gt-X]=R+1,gt>=pt?pt=gt:ft=!0,_(He,g[gt],y,null,k,A,N,I,x),Be++)}const uo=ft?Ah(Yr):$r;for(ae=uo.length-1,R=Ve-1;R>=0;R--){const He=X+R,gt=g[He],ho=g[He+1],fo=He+1<K?ho.el||Zl(ho):T;Yr[R]===0?_(null,gt,y,fo,k,A,N,I,x):ft&&(ae<0||R!==uo[ae]?dt(gt,y,fo,2):ae--)}}},dt=(p,g,y,T,k=null)=>{const{el:A,type:N,transition:I,children:x,shapeFlag:R}=p;if(R&6){dt(p.component.subTree,g,y,T);return}if(R&128){p.suspense.move(g,y,T);return}if(R&64){N.move(p,g,y,F);return}if(N===Ce){s(A,g,y);for(let D=0;D<x.length;D++)dt(x[D],g,y,T);s(p.anchor,g,y);return}if(N===Js){w(p,g,y);return}if(T!==2&&R&1&&I)if(T===0)I.beforeEnter(A),s(A,g,y),Ae(()=>I.enter(A),k);else{const{leave:D,delayLeave:q,afterLeave:J}=I,X=()=>{p.ctx.isUnmounted?n(A):s(A,g,y)},he=()=>{A._isLeaving&&A[kt](!0),D(A,()=>{X(),J&&J()})};q?q(A,X,he):he()}else s(A,g,y)},Me=(p,g,y,T=!1,k=!1)=>{const{type:A,props:N,ref:I,children:x,dynamicChildren:R,shapeFlag:K,patchFlag:D,dirs:q,cacheIndex:J}=p;if(D===-2&&(k=!1),I!=null&&(It(),cs(I,null,y,p,!0),jt()),J!=null&&(g.renderCache[J]=void 0),K&256){g.ctx.deactivate(p);return}const X=K&1&&q,he=!er(p);let ae;if(he&&(ae=N&&N.onVnodeBeforeUnmount)&&Ze(ae,g,p),K&6)rr(p.component,y,T);else{if(K&128){p.suspense.unmount(y,T);return}X&&sr(p,null,g,"beforeUnmount"),K&64?p.type.remove(p,g,y,F,T):R&&!R.hasOnce&&(A!==Ce||D>0&&D&64)?ze(R,g,y,!1,!0):(A===Ce&&D&384||!k&&K&16)&&ze(x,g,y),T&&wr(p)}(he&&(ae=N&&N.onVnodeUnmounted)||X)&&Ae(()=>{ae&&Ze(ae,g,p),X&&sr(p,null,g,"unmounted")},y)},wr=p=>{const{type:g,el:y,anchor:T,transition:k}=p;if(g===Ce){br(y,T);return}if(g===Js){E(p);return}const A=()=>{n(y),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(p.shapeFlag&1&&k&&!k.persisted){const{leave:N,delayLeave:I}=k,x=()=>N(y,A);I?I(p.el,A,x):x()}else A()},br=(p,g)=>{let y;for(;p!==g;)y=d(p),n(p),p=y;n(g)},rr=(p,g,y)=>{const{bum:T,scope:k,job:A,subTree:N,um:I,m:x,a:R}=p;rn(x),rn(R),T&&Dr(T),k.stop(),A&&(A.flags|=8,Me(N,p,g,y)),I&&Ae(I,g),Ae(()=>{p.isUnmounted=!0},g)},ze=(p,g,y,T=!1,k=!1,A=0)=>{for(let N=A;N<p.length;N++)Me(p[N],g,y,T,k)},C=p=>{if(p.shapeFlag&6)return C(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),y=g&&g[bl];return y?d(y):g};let B=!1;const $=(p,g,y)=>{let T;p==null?g._vnode&&(Me(g._vnode,null,null,!0),T=g._vnode.component):_(g._vnode||null,p,g,null,null,null,y),g._vnode=p,B||(B=!0,_o(T),ml(),B=!1)},F={p:_,um:Me,m:dt,r:wr,mt:Re,mc:Z,pc:ne,pbc:Y,n:C,o:e};return{render:$,hydrate:void 0,createApp:lh($)}}function Bn({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function nr({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Th(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function eo(e,t,r=!1){const s=e.children,n=t.children;if(H(s)&&H(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ht(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&eo(o,a)),a.type===Tn&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(e.type===Ce?1:0)),a.type===Pe&&!a.el&&(a.el=o.el)}}function Ah(e){const t=e.slice(),r=[0];let s,n,i,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(n=r[r.length-1],e[n]<c){t[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<c?i=a+1:o=a;c<e[r[i]]&&(i>0&&(t[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}function Yl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Yl(t)}function rn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Zl(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Zl(t.subTree):null}const sn=e=>e.__isSuspense;function Ch(e,t){t&&t.pendingBranch?H(e)?t.effects.push(...e):t.effects.push(e):$u(e)}const Ce=Symbol.for("v-fgt"),Tn=Symbol.for("v-txt"),Pe=Symbol.for("v-cmt"),Js=Symbol.for("v-stc"),hs=[];let Je=null;function ee(e=!1){hs.push(Je=e?null:[])}function kh(){hs.pop(),Je=hs[hs.length-1]||null}let ys=1;function nn(e,t=!1){ys+=e,e<0&&Je&&t&&(Je.hasOnce=!0)}function Ql(e){return e.dynamicChildren=ys>0?Je||$r:null,kh(),ys>0&&Je&&Je.push(e),e}function fe(e,t,r,s,n,i){return Ql(j(e,t,r,s,n,i,!0))}function Qt(e,t,r,s,n){return Ql(ge(e,t,r,s,n,!0))}function Fr(e){return e?e.__v_isVNode===!0:!1}function zt(e,t){return e.type===t.type&&e.key===t.key}const Xl=({key:e})=>e??null,zs=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?me(e)||$e(e)||z(e)?{i:Ie,r:e,k:t,f:!!r}:e:null);function j(e,t=null,r=null,s=0,n=null,i=e===Ce?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xl(t),ref:t&&zs(t),scopeId:_l,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ie};return a?(to(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=me(r)?8:16),ys>0&&!o&&Je&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Je.push(l),l}const ge=Rh;function Rh(e,t=null,r=null,s=0,n=null,i=!1){if((!e||e===$l)&&(e=Pe),Fr(e)){const a=$t(e,t,!0);return r&&to(a,r),ys>0&&!i&&Je&&(a.shapeFlag&6?Je[Je.indexOf(e)]=a:Je.push(a)),a.patchFlag=-2,a}if(Uh(e)&&(e=e.__vccOpts),t){t=Oh(t);let{class:a,style:l}=t;a&&!me(a)&&(t.class=nt(a)),ce(l)&&(Ki(l)&&!H(l)&&(l=ke({},l)),t.style=Di(l))}const o=me(e)?1:sn(e)?128:El(e)?64:ce(e)?4:z(e)?2:0;return j(e,t,r,s,n,o,i,!0)}function Oh(e){return e?Ki(e)||Hl(e)?ke({},e):e:null}function $t(e,t,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?xh(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Xl(c),ref:t&&t.ref?r&&i?H(i)?i.concat(zs(t)):[i,zs(t)]:zs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$t(e.ssContent),ssFallback:e.ssFallback&&$t(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&tr(u,l.clone(u)),u}function ec(e=" ",t=0){return ge(Tn,null,e,t)}function o0(e,t){const r=ge(Js,null,e);return r.staticCount=t,r}function on(e="",t=!1){return t?(ee(),Qt(Pe,null,e)):ge(Pe,null,e)}function _t(e){return e==null||typeof e=="boolean"?ge(Pe):H(e)?ge(Ce,null,e.slice()):Fr(e)?Ht(e):ge(Tn,null,String(e))}function Ht(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$t(e)}function to(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(H(t))r=16;else if(typeof t=="object")if(s&65){const n=t.default;n&&(n._c&&(n._d=!1),to(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!Hl(t)?t._ctx=Ie:n===3&&Ie&&(Ie.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:Ie},r=32):(t=String(t),s&64?(r=16,t=[ec(t)]):r=8);e.children=t,e.shapeFlag|=r}function xh(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const n in s)if(n==="class")t.class!==s.class&&(t.class=nt([t.class,s.class]));else if(n==="style")t.style=Di([t.style,s.style]);else if(fn(n)){const i=t[n],o=s[n];o&&i!==o&&!(H(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=s[n])}return t}function Ze(e,t,r,s=null){ct(e,t,7,[r,s])}const Ph=Bl();let Ih=0;function jh(e,t,r){const s=e.type,n=(t?t.appContext:e.appContext)||Ph,i={uid:Ih++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new iu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wl(s,n),emitsOptions:Vl(s,n),emit:null,emitted:null,propsDefaults:ue,inheritAttrs:s.inheritAttrs,ctx:ue,data:ue,props:ue,attrs:ue,slots:ue,refs:ue,setupState:ue,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=uh.bind(null,i),e.ce&&e.ce(i),i}let Ne=null;const An=()=>Ne||Ie;let an,pi;{const e=vn(),t=(r,s)=>{let n;return(n=e[r])||(n=e[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};an=t("__VUE_INSTANCE_SETTERS__",r=>Ne=r),pi=t("__VUE_SSR_SETTERS__",r=>ws=r)}const Ps=e=>{const t=Ne;return an(e),e.scope.on(),()=>{e.scope.off(),an(t)}},jo=()=>{Ne&&Ne.scope.off(),an(null)};function tc(e){return e.vnode.shapeFlag&4}let ws=!1;function Nh(e,t=!1,r=!1){t&&pi(t);const{props:s,children:n}=e.vnode,i=tc(e);mh(e,s,i,t),wh(e,n,r||t);const o=i?$h(e,t):void 0;return t&&pi(!1),o}function $h(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,th);const{setup:s}=r;if(s){It();const n=e.setupContext=s.length>1?Dh(e):null,i=Ps(e),o=xs(s,e,0,[e.props,n]),a=Ha(o);if(jt(),i(),(a||e.sp)&&!er(e)&&Pl(e),a){if(o.then(jo,jo),t)return o.then(l=>{No(e,l)}).catch(l=>{wn(l,e,0)});e.asyncDep=o}else No(e,o)}else rc(e)}function No(e,t,r){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)&&(e.setupState=fl(t)),rc(e)}function rc(e,t,r){const s=e.type;e.render||(e.render=s.render||yt);{const n=Ps(e);It();try{rh(e)}finally{jt(),n()}}}const Lh={get(e,t){return je(e,"get",""),e[t]}};function Dh(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Lh),slots:e.slots,emit:e.emit,expose:t}}function Cn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(fl(Au(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in us)return us[r](e)},has(t,r){return r in t||r in us}})):e.proxy}function gi(e,t=!0){return z(e)?e.displayName||e.name:e.name||t&&e.__name}function Uh(e){return z(e)&&"__vccOpts"in e}const Ee=(e,t)=>xu(e,t,ws);function ro(e,t,r){try{nn(-1);const s=arguments.length;return s===2?ce(t)&&!H(t)?Fr(t)?ge(e,null,[t]):ge(e,t):ge(e,null,t):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&Fr(r)&&(r=[r]),ge(e,t,r))}finally{nn(1)}}const Mh="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mi;const $o=typeof window<"u"&&window.trustedTypes;if($o)try{mi=$o.createPolicy("vue",{createHTML:e=>e})}catch{}const sc=mi?e=>mi.createHTML(e):e=>e,Bh="http://www.w3.org/2000/svg",Vh="http://www.w3.org/1998/Math/MathML",At=typeof document<"u"?document:null,Lo=At&&At.createElement("template"),Fh={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const n=t==="svg"?At.createElementNS(Bh,e):t==="mathml"?At.createElementNS(Vh,e):r?At.createElement(e,{is:r}):At.createElement(e);return e==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:e=>At.createTextNode(e),createComment:e=>At.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>At.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,n,i){const o=r?r.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{Lo.innerHTML=sc(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=Lo.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Mt="transition",Qr="animation",qr=Symbol("_vtc"),nc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ic=ke({},Cl,nc),qh=e=>(e.displayName="Transition",e.props=ic,e),Do=qh((e,{slots:t})=>ro(Fu,oc(e),t)),ir=(e,t=[])=>{H(e)?e.forEach(r=>r(...t)):e&&e(...t)},Uo=e=>e?H(e)?e.some(t=>t.length>1):e.length>1:!1;function oc(e){const t={};for(const M in e)M in nc||(t[M]=e[M]);if(e.css===!1)return t;const{name:r="v",type:s,duration:n,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:d=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=e,v=Hh(n),_=v&&v[0],S=v&&v[1],{onBeforeEnter:b,onEnter:m,onEnterCancelled:w,onLeave:E,onLeaveCancelled:O,onBeforeAppear:P=b,onAppear:L=m,onAppearCancelled:Z=w}=t,U=(M,se,Re,qe)=>{M._enterCancelled=qe,Vt(M,se?u:a),Vt(M,se?c:o),Re&&Re()},Y=(M,se)=>{M._isLeaving=!1,Vt(M,h),Vt(M,f),Vt(M,d),se&&se()},te=M=>(se,Re)=>{const qe=M?L:m,we=()=>U(se,M,Re);ir(qe,[se,we]),Mo(()=>{Vt(se,M?l:i),mt(se,M?u:a),Uo(qe)||Bo(se,s,_,we)})};return ke(t,{onBeforeEnter(M){ir(b,[M]),mt(M,i),mt(M,o)},onBeforeAppear(M){ir(P,[M]),mt(M,l),mt(M,c)},onEnter:te(!1),onAppear:te(!0),onLeave(M,se){M._isLeaving=!0;const Re=()=>Y(M,se);mt(M,h),M._enterCancelled?(mt(M,d),vi(M)):(vi(M),mt(M,d)),Mo(()=>{M._isLeaving&&(Vt(M,h),mt(M,f),Uo(E)||Bo(M,s,S,Re))}),ir(E,[M,Re])},onEnterCancelled(M){U(M,!1,void 0,!0),ir(w,[M])},onAppearCancelled(M){U(M,!0,void 0,!0),ir(Z,[M])},onLeaveCancelled(M){Y(M),ir(O,[M])}})}function Hh(e){if(e==null)return null;if(ce(e))return[Vn(e.enter),Vn(e.leave)];{const t=Vn(e);return[t,t]}}function Vn(e){return Zc(e)}function mt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[qr]||(e[qr]=new Set)).add(t)}function Vt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const r=e[qr];r&&(r.delete(t),r.size||(e[qr]=void 0))}function Mo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Kh=0;function Bo(e,t,r,s){const n=e._endId=++Kh,i=()=>{n===e._endId&&s()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:l}=ac(e,t);if(!o)return s();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,d),i()},d=f=>{f.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,d)}function ac(e,t){const r=window.getComputedStyle(e),s=v=>(r[v]||"").split(", "),n=s(`${Mt}Delay`),i=s(`${Mt}Duration`),o=Vo(n,i),a=s(`${Qr}Delay`),l=s(`${Qr}Duration`),c=Vo(a,l);let u=null,h=0,d=0;t===Mt?o>0&&(u=Mt,h=o,d=i.length):t===Qr?c>0&&(u=Qr,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?Mt:Qr:null,d=u?u===Mt?i.length:l.length:0);const f=u===Mt&&/\b(?:transform|all)(?:,|$)/.test(s(`${Mt}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function Vo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,s)=>Fo(r)+Fo(e[s])))}function Fo(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function vi(e){return(e?e.ownerDocument:document).body.offsetHeight}function Wh(e,t,r){const s=e[qr];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const ln=Symbol("_vod"),lc=Symbol("_vsh"),Bs={name:"show",beforeMount(e,{value:t},{transition:r}){e[ln]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Xr(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:s}){!t!=!r&&(s?t?(s.beforeEnter(e),Xr(e,!0),s.enter(e)):s.leave(e,()=>{Xr(e,!1)}):Xr(e,t))},beforeUnmount(e,{value:t}){Xr(e,t)}};function Xr(e,t){e.style.display=t?e[ln]:"none",e[lc]=!t}const Gh=Symbol(""),Jh=/(?:^|;)\s*display\s*:/;function zh(e,t,r){const s=e.style,n=me(r);let i=!1;if(r&&!n){if(t)if(me(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Ys(s,a,"")}else for(const o in t)r[o]==null&&Ys(s,o,"");for(const o in r)o==="display"&&(i=!0),Ys(s,o,r[o])}else if(n){if(t!==r){const o=s[Gh];o&&(r+=";"+o),s.cssText=r,i=Jh.test(r)}}else t&&e.removeAttribute("style");ln in e&&(e[ln]=i?s.display:"",e[lc]&&(s.display="none"))}const qo=/\s*!important$/;function Ys(e,t,r){if(H(r))r.forEach(s=>Ys(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=Yh(e,t);qo.test(r)?e.setProperty(yr(s),r.replace(qo,""),"important"):e[s]=r}}const Ho=["Webkit","Moz","ms"],Fn={};function Yh(e,t){const r=Fn[t];if(r)return r;let s=Xe(t);if(s!=="filter"&&s in e)return Fn[t]=s;s=gn(s);for(let n=0;n<Ho.length;n++){const i=Ho[n]+s;if(i in e)return Fn[t]=i}return t}const Ko="http://www.w3.org/1999/xlink";function Wo(e,t,r,s,n,i=su(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Ko,t.slice(6,t.length)):e.setAttributeNS(Ko,t,r):r==null||i&&!Ja(r)?e.removeAttribute(t):e.setAttribute(t,i?"":at(r)?String(r):r)}function Go(e,t,r,s,n){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?sc(r):r);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=Ja(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(n||t)}function Yt(e,t,r,s){e.addEventListener(t,r,s)}function Zh(e,t,r,s){e.removeEventListener(t,r,s)}const Jo=Symbol("_vei");function Qh(e,t,r,s,n=null){const i=e[Jo]||(e[Jo]={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=Xh(t);if(s){const c=i[t]=rd(s,n);Yt(e,a,c,l)}else o&&(Zh(e,a,o,l),i[t]=void 0)}}const zo=/(?:Once|Passive|Capture)$/;function Xh(e){let t;if(zo.test(e)){t={};let s;for(;s=e.match(zo);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):yr(e.slice(2)),t]}let qn=0;const ed=Promise.resolve(),td=()=>qn||(ed.then(()=>qn=0),qn=Date.now());function rd(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;ct(sd(s,r.value),t,5,[s])};return r.value=e,r.attached=td(),r}function sd(e,t){if(H(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>n=>!n._stopped&&s&&s(n))}else return t}const Yo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,nd=(e,t,r,s,n,i)=>{const o=n==="svg";t==="class"?Wh(e,s,o):t==="style"?zh(e,r,s):fn(t)?Ni(t)||Qh(e,t,r,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):id(e,t,s,o))?(Go(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wo(e,t,s,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!me(s))?Go(e,Xe(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Wo(e,t,s,o))};function id(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yo(t)&&z(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Yo(t)&&me(r)?!1:t in e}const cc=new WeakMap,uc=new WeakMap,cn=Symbol("_moveCb"),Zo=Symbol("_enterCb"),od=e=>(delete e.props.mode,e),ad=od({name:"TransitionGroup",props:ke({},ic,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=An(),s=Al();let n,i;return zi(()=>{if(!n.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!dd(n[0].el,r.vnode.el,o)){n=[];return}n.forEach(cd),n.forEach(ud);const a=n.filter(hd);vi(r.vnode.el),a.forEach(l=>{const c=l.el,u=c.style;mt(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[cn]=d=>{d&&d.target!==c||(!d||d.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",h),c[cn]=null,Vt(c,o))};c.addEventListener("transitionend",h)}),n=[]}),()=>{const o=re(e),a=oc(o);let l=o.tag||Ce;if(n=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(n.push(u),tr(u,_s(u,a,s,r)),cc.set(u,{left:u.el.offsetLeft,top:u.el.offsetTop}))}i=t.default?Ji(t.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&tr(u,_s(u,a,s,r))}return ge(l,null,i)}}}),ld=ad;function cd(e){const t=e.el;t[cn]&&t[cn](),t[Zo]&&t[Zo]()}function ud(e){uc.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function hd(e){const t=cc.get(e),r=uc.get(e),s=t.left-r.left,n=t.top-r.top;if(s||n){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${n}px)`,i.transitionDuration="0s",e}}function dd(e,t,r){const s=e.cloneNode(),n=e[qr];n&&n.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:o}=ac(s);return i.removeChild(s),o}const Hr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return H(t)?r=>Dr(t,r):t};function fd(e){e.target.composing=!0}function Qo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pt=Symbol("_assign");function Xo(e,t,r){return t&&(e=e.trim()),r&&(e=mn(e)),e}const a0={created(e,{modifiers:{lazy:t,trim:r,number:s}},n){e[Pt]=Hr(n);const i=s||n.props&&n.props.type==="number";Yt(e,t?"change":"input",o=>{o.target.composing||e[Pt](Xo(e.value,r,i))}),(r||i)&&Yt(e,"change",()=>{e.value=Xo(e.value,r,i)}),t||(Yt(e,"compositionstart",fd),Yt(e,"compositionend",Qo),Yt(e,"change",Qo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:s,trim:n,number:i}},o){if(e[Pt]=Hr(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?mn(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===r||n&&e.value.trim()===l)||(e.value=l))}},l0={deep:!0,created(e,t,r){e[Pt]=Hr(r),Yt(e,"change",()=>{const s=e._modelValue,n=bs(e),i=e.checked,o=e[Pt];if(H(s)){const a=Ui(s,n),l=a!==-1;if(i&&!l)o(s.concat(n));else if(!i&&l){const c=[...s];c.splice(a,1),o(c)}}else if(Gr(s)){const a=new Set(s);i?a.add(n):a.delete(n),o(a)}else o(hc(e,i))})},mounted:ea,beforeUpdate(e,t,r){e[Pt]=Hr(r),ea(e,t,r)}};function ea(e,{value:t,oldValue:r},s){e._modelValue=t;let n;if(H(t))n=Ui(t,s.props.value)>-1;else if(Gr(t))n=t.has(s.props.value);else{if(t===r)return;n=Os(t,hc(e,!0))}e.checked!==n&&(e.checked=n)}const c0={deep:!0,created(e,{value:t,modifiers:{number:r}},s){const n=Gr(t);Yt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?mn(bs(o)):bs(o));e[Pt](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,Wi(()=>{e._assigning=!1})}),e[Pt]=Hr(s)},mounted(e,{value:t}){ta(e,t)},beforeUpdate(e,t,r){e[Pt]=Hr(r)},updated(e,{value:t}){e._assigning||ta(e,t)}};function ta(e,t){const r=e.multiple,s=H(t);if(!(r&&!s&&!Gr(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],a=bs(o);if(r)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=Ui(t,a)>-1}else o.selected=t.has(a);else if(Os(bs(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function bs(e){return"_value"in e?e._value:e.value}function hc(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const pd=["ctrl","shift","alt","meta"],gd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>pd.some(r=>e[`${r}Key`]&&!t.includes(r))},u0=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=gd[t[o]];if(a&&a(n,t))return}return e(n,...i)})},md=ke({patchProp:nd},Fh);let ra;function vd(){return ra||(ra=Eh(md))}const _d=(...e)=>{const t=vd().createApp(...e),{mount:r}=t;return t.mount=s=>{const n=wd(s);if(!n)return;const i=t._component;!z(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,yd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function yd(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function wd(e){return me(e)?document.querySelector(e):e}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const xr=typeof document<"u";function dc(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function bd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&dc(e.default)}const ie=Object.assign;function Hn(e,t){const r={};for(const s in t){const n=t[s];r[s]=ut(n)?n.map(e):e(n)}return r}const ds=()=>{},ut=Array.isArray;function sa(e,t){const r={};for(const s in e)r[s]=s in t?t[s]:e[s];return r}const fc=/#/g,Ed=/&/g,Sd=/\//g,Td=/=/g,Ad=/\?/g,pc=/\+/g,Cd=/%5B/g,kd=/%5D/g,gc=/%5E/g,Rd=/%60/g,mc=/%7B/g,Od=/%7C/g,vc=/%7D/g,xd=/%20/g;function so(e){return e==null?"":encodeURI(""+e).replace(Od,"|").replace(Cd,"[").replace(kd,"]")}function Pd(e){return so(e).replace(mc,"{").replace(vc,"}").replace(gc,"^")}function _i(e){return so(e).replace(pc,"%2B").replace(xd,"+").replace(fc,"%23").replace(Ed,"%26").replace(Rd,"`").replace(mc,"{").replace(vc,"}").replace(gc,"^")}function Id(e){return _i(e).replace(Td,"%3D")}function jd(e){return so(e).replace(fc,"%23").replace(Ad,"%3F")}function Nd(e){return jd(e).replace(Sd,"%2F")}function Es(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const $d=/\/$/,Ld=e=>e.replace($d,"");function Kn(e,t,r="/"){let s,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=t.slice(0,l),i=t.slice(l,a>0?a:t.length),n=e(i.slice(1))),a>=0&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=Bd(s??t,r),{fullPath:s+i+o,path:s,query:n,hash:Es(o)}}function Dd(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function na(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ud(e,t,r){const s=t.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&Kr(t.matched[s],r.matched[n])&&_c(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function Kr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _c(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!Md(e[r],t[r]))return!1;return!0}function Md(e,t){return ut(e)?ia(e,t):ut(t)?ia(t,e):(e==null?void 0:e.valueOf())===(t==null?void 0:t.valueOf())}function ia(e,t){return ut(t)?e.length===t.length&&e.every((r,s)=>r===t[s]):e.length===1&&e[0]===t}function Bd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),s=e.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let i=r.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let yi=function(e){return e.pop="pop",e.push="push",e}({}),Wn=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function Vd(e){if(!e)if(xr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Ld(e)}const Fd=/^[^#]+#/;function qd(e,t){return e.replace(Fd,"#")+t}function Hd(e,t){const r=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-r.left-(t.left||0),top:s.top-r.top-(t.top||0)}}const kn=()=>({left:window.scrollX,top:window.scrollY});function Kd(e){let t;if("el"in e){const r=e.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;t=Hd(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function oa(e,t){return(history.state?history.state.position-t:-1)+e}const wi=new Map;function Wd(e,t){wi.set(e,t)}function Gd(e){const t=wi.get(e);return wi.delete(e),t}function Jd(e){return typeof e=="string"||e&&typeof e=="object"}function yc(e){return typeof e=="string"||typeof e=="symbol"}let _e=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const wc=Symbol("");_e.MATCHER_NOT_FOUND+"",_e.NAVIGATION_GUARD_REDIRECT+"",_e.NAVIGATION_ABORTED+"",_e.NAVIGATION_CANCELLED+"",_e.NAVIGATION_DUPLICATED+"";function Wr(e,t){return ie(new Error,{type:e,[wc]:!0},t)}function St(e,t){return e instanceof Error&&wc in e&&(t==null||!!(e.type&t))}const zd=["params","query","hash"];function Yd(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const r of zd)r in e&&(t[r]=e[r]);return JSON.stringify(t,null,2)}function Zd(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const n=r[s].replace(pc," "),i=n.indexOf("="),o=Es(i<0?n:n.slice(0,i)),a=i<0?null:Es(n.slice(i+1));if(o in t){let l=t[o];ut(l)||(l=t[o]=[l]),l.push(a)}else t[o]=a}return t}function aa(e){let t="";for(let r in e){const s=e[r];if(r=Id(r),s==null){s!==void 0&&(t+=(t.length?"&":"")+r);continue}(ut(s)?s.map(n=>n&&_i(n)):[s&&_i(s)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+r,n!=null&&(t+="="+n))})}return t}function Qd(e){const t={};for(const r in e){const s=e[r];s!==void 0&&(t[r]=ut(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return t}const Xd=Symbol(""),la=Symbol(""),Rn=Symbol(""),no=Symbol(""),bi=Symbol("");function es(){let e=[];function t(s){return e.push(s),()=>{const n=e.indexOf(s);n>-1&&e.splice(n,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function Kt(e,t,r,s,n,i=o=>o()){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Wr(_e.NAVIGATION_ABORTED,{from:r,to:t})):d instanceof Error?l(d):Jd(d)?l(Wr(_e.NAVIGATION_GUARD_REDIRECT,{from:t,to:d})):(o&&s.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>e.call(s&&s.instances[n],t,r,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function Gn(e,t,r,s,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(dc(l)){const c=(l.__vccOpts||l)[t];c&&i.push(Kt(c,r,s,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=bd(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[t];return d&&Kt(d,r,s,o,a,n)()}))}}return i}function ef(e,t){const r=[],s=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>Kr(c,a))?s.push(a):r.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Kr(c,l))||n.push(l))}return[r,s,n]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let tf=()=>location.protocol+"//"+location.host;function bc(e,t){const{pathname:r,search:s,hash:n}=t,i=e.indexOf("#");if(i>-1){let o=n.includes(e.slice(i))?e.slice(i).length:1,a=n.slice(o);return a[0]!=="/"&&(a="/"+a),na(a,"")}return na(r,e)+s+n}function rf(e,t,r,s){let n=[],i=[],o=null;const a=({state:d})=>{const f=bc(e,location),v=r.value,_=t.value;let S=0;if(d){if(r.value=f,t.value=d,o&&o===v){o=null;return}S=_?d.position-_.position:0}else s(f);n.forEach(b=>{b(r.value,v,{delta:S,type:yi.pop,direction:S?S>0?Wn.forward:Wn.back:Wn.unknown})})};function l(){o=r.value}function c(d){n.push(d);const f=()=>{const v=n.indexOf(d);v>-1&&n.splice(v,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(ie({},d.state,{scroll:kn()}),"")}}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function ca(e,t,r,s=!1,n=!1){return{back:e,current:t,forward:r,replaced:s,position:window.history.length,scroll:n?kn():null}}function sf(e){const{history:t,location:r}=window,s={value:bc(e,r)},n={value:t.state};n.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),d=h>-1?(r.host&&document.querySelector("base")?e:e.slice(h))+l:tf()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),n.value=c}catch(f){console.error(f),r[u?"replace":"assign"](d)}}function o(l,c){i(l,ie({},t.state,ca(n.value.back,l,n.value.forward,!0),c,{position:n.value.position}),!0),s.value=l}function a(l,c){const u=ie({},n.value,t.state,{forward:l,scroll:kn()});i(u.current,u,!0),i(l,ie({},ca(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:n,push:a,replace:o}}function nf(e){e=Vd(e);const t=sf(e),r=rf(e,t.state,t.location,t.replace);function s(i,o=!0){o||r.pauseListeners(),history.go(i)}const n=ie({location:"",base:e,go:s,createHref:qd.bind(null,e)},t,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}let pr=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var Se=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(Se||{});const of={type:pr.Static,value:""},af=/[a-zA-Z0-9_]/;function lf(e){if(!e)return[[]];if(e==="/")return[[of]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=Se.Static,s=r;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(r===Se.Static?i.push({type:pr.Static,value:c}):r===Se.Param||r===Se.ParamRegExp||r===Se.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:pr.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&r!==Se.ParamRegExp){s=r,r=Se.EscapeNext;continue}switch(r){case Se.Static:l==="/"?(c&&h(),o()):l===":"?(h(),r=Se.Param):d();break;case Se.EscapeNext:d(),r=s;break;case Se.Param:l==="("?r=Se.ParamRegExp:af.test(l)?d():(h(),r=Se.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case Se.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=Se.ParamRegExpEnd:u+=l;break;case Se.ParamRegExpEnd:h(),r=Se.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return r===Se.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}const ua="[^/]+?",cf={sensitive:!1,strict:!1,start:!0,end:!0};var De=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(De||{});const uf=/[.+*?^${}()[\]/\\]/g;function hf(e,t){const r=ie({},cf,t),s=[];let n=r.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[De.Root];r.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=De.Segment+(r.sensitive?De.BonusCaseSensitive:0);if(d.type===pr.Static)h||(n+="/"),n+=d.value.replace(uf,"\\$&"),f+=De.Static;else if(d.type===pr.Param){const{value:v,repeatable:_,optional:S,regexp:b}=d;i.push({name:v,repeatable:_,optional:S});const m=b||ua;if(m!==ua){f+=De.BonusCustomRegExp;try{`${m}`}catch(E){throw new Error(`Invalid custom RegExp for param "${v}" (${m}): `+E.message)}}let w=_?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;h||(w=S&&c.length<2?`(?:/${w})`:"/"+w),S&&(w+="?"),n+=w,f+=De.Dynamic,S&&(f+=De.BonusOptional),_&&(f+=De.BonusRepeatable),m===".*"&&(f+=De.BonusWildcard)}u.push(f)}s.push(u)}if(r.strict&&r.end){const c=s.length-1;s[c][s[c].length-1]+=De.BonusStrict}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",v=i[d-1];h[v.name]=f&&v.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===pr.Static)u+=f.value;else if(f.type===pr.Param){const{value:v,repeatable:_,optional:S}=f,b=v in c?c[v]:"";if(ut(b)&&!_)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const m=ut(b)?b.join("/"):b;if(!m)if(S)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=m}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function df(e,t){let r=0;for(;r<e.length&&r<t.length;){const s=t[r]-e[r];if(s)return s;r++}return e.length<t.length?e.length===1&&e[0]===De.Static+De.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===De.Static+De.Segment?1:-1:0}function Ec(e,t){let r=0;const s=e.score,n=t.score;for(;r<s.length&&r<n.length;){const i=df(s[r],n[r]);if(i)return i;r++}if(Math.abs(n.length-s.length)===1){if(ha(s))return 1;if(ha(n))return-1}return n.length-s.length}function ha(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ff={strict:!1,end:!0,sensitive:!1};function pf(e,t,r){const s=hf(lf(e.path),r),n=ie(s,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function gf(e,t){const r=[],s=new Map;t=sa(ff,t);function n(h){return s.get(h)}function i(h,d,f){const v=!f,_=fa(h);_.aliasOf=f&&f.record;const S=sa(t,h),b=[_];if("alias"in h){const E=typeof h.alias=="string"?[h.alias]:h.alias;for(const O of E)b.push(fa(ie({},_,{components:f?f.record.components:_.components,path:O,aliasOf:f?f.record:_})))}let m,w;for(const E of b){const{path:O}=E;if(d&&O[0]!=="/"){const P=d.record.path,L=P[P.length-1]==="/"?"":"/";E.path=d.record.path+(O&&L+O)}if(m=pf(E,d,S),f?f.alias.push(m):(w=w||m,w!==m&&w.alias.push(m),v&&h.name&&!pa(m)&&o(h.name)),Sc(m)&&l(m),_.children){const P=_.children;for(let L=0;L<P.length;L++)i(P[L],m,f&&f.children[L])}f=f||m}return w?()=>{o(w)}:ds}function o(h){if(yc(h)){const d=s.get(h);d&&(s.delete(h),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(h);d>-1&&(r.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){const d=_f(h,r);r.splice(d,0,h),h.record.name&&!pa(h)&&s.set(h.record.name,h)}function c(h,d){let f,v={},_,S;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw Wr(_e.MATCHER_NOT_FOUND,{location:h});S=f.record.name,v=ie(da(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&da(h.params,f.keys.map(w=>w.name))),_=f.stringify(v)}else if(h.path!=null)_=h.path,f=r.find(w=>w.re.test(_)),f&&(v=f.parse(_),S=f.record.name);else{if(f=d.name?s.get(d.name):r.find(w=>w.re.test(d.path)),!f)throw Wr(_e.MATCHER_NOT_FOUND,{location:h,currentLocation:d});S=f.record.name,v=ie({},d.params,h.params),_=f.stringify(v)}const b=[];let m=f;for(;m;)b.unshift(m.record),m=m.parent;return{name:S,path:_,params:v,matched:b,meta:vf(b)}}e.forEach(h=>i(h));function u(){r.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function da(e,t){const r={};for(const s of t)s in e&&(r[s]=e[s]);return r}function fa(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:mf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function mf(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const s in e.components)t[s]=typeof r=="object"?r[s]:r;return t}function pa(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function vf(e){return e.reduce((t,r)=>ie(t,r.meta),{})}function _f(e,t){let r=0,s=t.length;for(;r!==s;){const i=r+s>>1;Ec(e,t[i])<0?s=i:r=i+1}const n=yf(e);return n&&(s=t.lastIndexOf(n,s-1)),s}function yf(e){let t=e;for(;t=t.parent;)if(Sc(t)&&Ec(e,t)===0)return t}function Sc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ga(e){const t=ot(Rn),r=ot(no),s=Ee(()=>{const l=xt(e.to);return t.resolve(l)}),n=Ee(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=r.matched;if(!u||!h.length)return-1;const d=h.findIndex(Kr.bind(null,u));if(d>-1)return d;const f=ma(l[c-2]);return c>1&&ma(u)===f&&h[h.length-1].path!==f?h.findIndex(Kr.bind(null,l[c-2])):d}),i=Ee(()=>n.value>-1&&Tf(r.params,s.value.params)),o=Ee(()=>n.value>-1&&n.value===r.matched.length-1&&_c(r.params,s.value.params));function a(l={}){if(Sf(l)){const c=t[xt(e.replace)?"replace":"push"](xt(e.to)).catch(ds);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Ee(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function wf(e){return e.length===1?e[0]:e}const bf=xl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ga,setup(e,{slots:t}){const r=yn(ga(e)),{options:s}=ot(Rn),n=Ee(()=>({[va(e.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[va(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&wf(t.default(r));return e.custom?i:ro("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},i)}}}),Ef=bf;function Sf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Tf(e,t){for(const r in t){const s=t[r],n=e[r];if(typeof s=="string"){if(s!==n)return!1}else if(!ut(n)||n.length!==s.length||s.some((i,o)=>i.valueOf()!==n[o].valueOf()))return!1}return!0}function ma(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const va=(e,t,r)=>e??t??r,Af=xl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const s=ot(bi),n=Ee(()=>e.route||s.value),i=ot(la,0),o=Ee(()=>{let c=xt(i);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ee(()=>n.value.matched[o.value]);Ws(la,Ee(()=>o.value+1)),Ws(Xd,a),Ws(bi,n);const l=wt();return _r(()=>[l.value,a.value,e.name],([c,u,h],[d,f,v])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Kr(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=n.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return _a(r.default,{Component:d,route:c});const f=h.props[u],v=f?f===!0?c.params:typeof f=="function"?f(c):f:null,S=ro(d,ie({},v,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return _a(r.default,{Component:S,route:c})||S}}});function _a(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Cf=Af;function kf(e){const t=gf(e.routes,e),r=e.parseQuery||Zd,s=e.stringifyQuery||aa,n=e.history,i=es(),o=es(),a=es(),l=Cu(Bt);let c=Bt;xr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Hn.bind(null,C=>""+C),h=Hn.bind(null,Nd),d=Hn.bind(null,Es);function f(C,B){let $,F;return yc(C)?($=t.getRecordMatcher(C),F=B):F=C,t.addRoute(F,$)}function v(C){const B=t.getRecordMatcher(C);B&&t.removeRoute(B)}function _(){return t.getRoutes().map(C=>C.record)}function S(C){return!!t.getRecordMatcher(C)}function b(C,B){if(B=ie({},B||l.value),typeof C=="string"){const y=Kn(r,C,B.path),T=t.resolve({path:y.path},B),k=n.createHref(y.fullPath);return ie(y,T,{params:d(T.params),hash:Es(y.hash),redirectedFrom:void 0,href:k})}let $;if(C.path!=null)$=ie({},C,{path:Kn(r,C.path,B.path).path});else{const y=ie({},C.params);for(const T in y)y[T]==null&&delete y[T];$=ie({},C,{params:h(y)}),B.params=h(B.params)}const F=t.resolve($,B),Q=C.hash||"";F.params=u(d(F.params));const p=Dd(s,ie({},C,{hash:Pd(Q),path:F.path})),g=n.createHref(p);return ie({fullPath:p,hash:Q,query:s===aa?Qd(C.query):C.query||{}},F,{redirectedFrom:void 0,href:g})}function m(C){return typeof C=="string"?Kn(r,C,l.value.path):ie({},C)}function w(C,B){if(c!==C)return Wr(_e.NAVIGATION_CANCELLED,{from:B,to:C})}function E(C){return L(C)}function O(C){return E(ie(m(C),{replace:!0}))}function P(C,B){const $=C.matched[C.matched.length-1];if($&&$.redirect){const{redirect:F}=$;let Q=typeof F=="function"?F(C,B):F;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=m(Q):{path:Q},Q.params={}),ie({query:C.query,hash:C.hash,params:Q.path!=null?{}:C.params},Q)}}function L(C,B){const $=c=b(C),F=l.value,Q=C.state,p=C.force,g=C.replace===!0,y=P($,F);if(y)return L(ie(m(y),{state:typeof y=="object"?ie({},Q,y.state):Q,force:p,replace:g}),B||$);const T=$;T.redirectedFrom=B;let k;return!p&&Ud(s,F,$)&&(k=Wr(_e.NAVIGATION_DUPLICATED,{to:T,from:F}),dt(F,F,!0,!1)),(k?Promise.resolve(k):Y(T,F)).catch(A=>St(A)?St(A,_e.NAVIGATION_GUARD_REDIRECT)?A:Ut(A):ne(A,T,F)).then(A=>{if(A){if(St(A,_e.NAVIGATION_GUARD_REDIRECT))return L(ie({replace:g},m(A.to),{state:typeof A.to=="object"?ie({},Q,A.to.state):Q,force:p}),B||T)}else A=M(T,F,!0,g,Q);return te(T,F,A),A})}function Z(C,B){const $=w(C,B);return $?Promise.reject($):Promise.resolve()}function U(C){const B=br.values().next().value;return B&&typeof B.runWithContext=="function"?B.runWithContext(C):C()}function Y(C,B){let $;const[F,Q,p]=ef(C,B);$=Gn(F.reverse(),"beforeRouteLeave",C,B);for(const y of F)y.leaveGuards.forEach(T=>{$.push(Kt(T,C,B))});const g=Z.bind(null,C,B);return $.push(g),ze($).then(()=>{$=[];for(const y of i.list())$.push(Kt(y,C,B));return $.push(g),ze($)}).then(()=>{$=Gn(Q,"beforeRouteUpdate",C,B);for(const y of Q)y.updateGuards.forEach(T=>{$.push(Kt(T,C,B))});return $.push(g),ze($)}).then(()=>{$=[];for(const y of p)if(y.beforeEnter)if(ut(y.beforeEnter))for(const T of y.beforeEnter)$.push(Kt(T,C,B));else $.push(Kt(y.beforeEnter,C,B));return $.push(g),ze($)}).then(()=>(C.matched.forEach(y=>y.enterCallbacks={}),$=Gn(p,"beforeRouteEnter",C,B,U),$.push(g),ze($))).then(()=>{$=[];for(const y of o.list())$.push(Kt(y,C,B));return $.push(g),ze($)}).catch(y=>St(y,_e.NAVIGATION_CANCELLED)?y:Promise.reject(y))}function te(C,B,$){a.list().forEach(F=>U(()=>F(C,B,$)))}function M(C,B,$,F,Q){const p=w(C,B);if(p)return p;const g=B===Bt,y=xr?history.state:{};$&&(F||g?n.replace(C.fullPath,ie({scroll:g&&y&&y.scroll},Q)):n.push(C.fullPath,Q)),l.value=C,dt(C,B,$,g),Ut()}let se;function Re(){se||(se=n.listen((C,B,$)=>{if(!rr.listening)return;const F=b(C),Q=P(F,rr.currentRoute.value);if(Q){L(ie(Q,{replace:!0,force:!0}),F).catch(ds);return}c=F;const p=l.value;xr&&Wd(oa(p.fullPath,$.delta),kn()),Y(F,p).catch(g=>St(g,_e.NAVIGATION_ABORTED|_e.NAVIGATION_CANCELLED)?g:St(g,_e.NAVIGATION_GUARD_REDIRECT)?(L(ie(m(g.to),{force:!0}),F).then(y=>{St(y,_e.NAVIGATION_ABORTED|_e.NAVIGATION_DUPLICATED)&&!$.delta&&$.type===yi.pop&&n.go(-1,!1)}).catch(ds),Promise.reject()):($.delta&&n.go(-$.delta,!1),ne(g,F,p))).then(g=>{g=g||M(F,p,!1),g&&($.delta&&!St(g,_e.NAVIGATION_CANCELLED)?n.go(-$.delta,!1):$.type===yi.pop&&St(g,_e.NAVIGATION_ABORTED|_e.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),te(F,p,g)}).catch(ds)}))}let qe=es(),we=es(),le;function ne(C,B,$){Ut(C);const F=we.list();return F.length?F.forEach(Q=>Q(C,B,$)):console.error(C),Promise.reject(C)}function bt(){return le&&l.value!==Bt?Promise.resolve():new Promise((C,B)=>{qe.add([C,B])})}function Ut(C){return le||(le=!C,Re(),qe.list().forEach(([B,$])=>C?$(C):B()),qe.reset()),C}function dt(C,B,$,F){const{scrollBehavior:Q}=e;if(!xr||!Q)return Promise.resolve();const p=!$&&Gd(oa(C.fullPath,0))||(F||!$)&&history.state&&history.state.scroll||null;return Wi().then(()=>Q(C,B,p)).then(g=>g&&Kd(g)).catch(g=>ne(g,C,B))}const Me=C=>n.go(C);let wr;const br=new Set,rr={currentRoute:l,listening:!0,addRoute:f,removeRoute:v,clearRoutes:t.clearRoutes,hasRoute:S,getRoutes:_,resolve:b,options:e,push:E,replace:O,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:we.add,isReady:bt,install(C){C.component("RouterLink",Ef),C.component("RouterView",Cf),C.config.globalProperties.$router=rr,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>xt(l)}),xr&&!wr&&l.value===Bt&&(wr=!0,E(n.location).catch(F=>{}));const B={};for(const F in Bt)Object.defineProperty(B,F,{get:()=>l.value[F],enumerable:!0});C.provide(Rn,rr),C.provide(no,hl(B)),C.provide(bi,l);const $=C.unmount;br.add(C),C.unmount=function(){br.delete(C),br.size<1&&(c=Bt,se&&se(),se=null,l.value=Bt,wr=!1,le=!1),$()}}};function ze(C){return C.reduce((B,$)=>B.then(()=>U($)),Promise.resolve())}return rr}function Rf(){return ot(Rn)}function Tc(e){return ot(no)}function On(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function Of(e,t,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(e,t||[])).next())})}const xf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class io extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class Pf extends io{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ya extends io{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wa extends io{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ei;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ei||(Ei={}));class If{constructor(t,{headers:r={},customFetch:s,region:n=Ei.Any}={}){this.url=t,this.headers=r,this.region=n,this.fetch=xf(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Of(this,arguments,void 0,function*(r,s={}){var n;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=s;let d={},{region:f}=s;f||(f=this.region);const v=new URL(`${this.url}/${r}`);f&&f!=="any"&&(d["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let _;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",_=c):typeof c=="string"?(d["Content-Type"]="text/plain",_=c):typeof FormData<"u"&&c instanceof FormData?_=c:(d["Content-Type"]="application/json",_=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?_=JSON.stringify(c):_=c;let S=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(S=o.signal,u.addEventListener("abort",()=>o.abort())):S=o.signal);const b=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:_,signal:S}).catch(O=>{throw new Pf(O)}),m=b.headers.get("x-relay-error");if(m&&m==="true")throw new ya(b);if(!b.ok)throw new wa(b);let w=((n=b.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),E;return w==="application/json"?E=yield b.json():w==="application/octet-stream"||w==="application/pdf"?E=yield b.blob():w==="text/event-stream"?E=b:w==="multipart/form-data"?E=yield b.formData():E=yield b.text(),{data:E,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof wa||a instanceof ya?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var jf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Nf=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,u=i.statusText;if(i.ok){var h,d;if(r.method!=="HEAD"){var f;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=b:a=JSON.parse(b))}const _=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&S&&S.length>1&&(l=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const _=await i.text();try{o=JSON.parse(_),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,u="OK")}catch{i.status===404&&_===""?(c=204,u="No Content"):o={message:_}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&r.shouldThrowOnError)throw new jf(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var c,u,h,d;const v=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",_=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";a=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"Error"}: ${v}`,_&&(a+=` (${_})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var f;a=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},$f=class extends Nf{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const ba=new RegExp("[,()]");var Pr=class extends $f{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&ba.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&ba.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let n="";s==="plain"?n="pl":s==="phrase"?n="ph":s==="websearch"&&(n="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Lf=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:s}=t??{},n=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),s&&l.append("Prefer",`count=${s}`),new Pr({method:n,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const n="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new Pr({method:n,url:i,headers:o,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),s&&l.append("Prefer",`count=${s}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",u.join(","))}}return new Pr({method:o,url:a,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const s="PATCH",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Pr({method:s,url:n,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:s,headers:n}=this.cloneRequestState();return e&&n.append("Prefer",`count=${e}`),new Pr({method:r,url:s,headers:n,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Df=class Ac{constructor(t,{headers:r={},schema:s,fetch:n}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.fetch=n}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Lf(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ac(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:n=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),h=s&&Object.values(r).some(u);h?(a="POST",c=r):s||n?(a=s?"HEAD":"GET",Object.entries(r).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{l.searchParams.append(f,v)})):(a="POST",c=r);const d=new Headers(this.headers);return h?d.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&d.set("Prefer",`count=${i}`),new Pr({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Uf{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Mf="2.90.1",Bf=`realtime-js/${Mf}`,Cc="1.0.0",Vf="2.0.0",Ea=Cc,Si=1e4,Ff=1e3,qf=100;var Wt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wt||(Wt={}));var Te;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Te||(Te={}));var st;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(st||(st={}));var Ti;(function(e){e.websocket="websocket"})(Ti||(Ti={}));var dr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(dr||(dr={}));class Hf{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const n=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(t){var r,s;const n=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,s){var n,i;const o=t.topic,a=(n=t.ref)!==null&&n!==void 0?n:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let v=new DataView(f),_=0;v.setUint8(_++,this.KINDS.userBroadcastPush),v.setUint8(_++,l.length),v.setUint8(_++,a.length),v.setUint8(_++,o.length),v.setUint8(_++,c.length),v.setUint8(_++,h.length),v.setUint8(_++,r),Array.from(l,b=>v.setUint8(_++,b.charCodeAt(0))),Array.from(a,b=>v.setUint8(_++,b.charCodeAt(0))),Array.from(o,b=>v.setUint8(_++,b.charCodeAt(0))),Array.from(c,b=>v.setUint8(_++,b.charCodeAt(0))),Array.from(h,b=>v.setUint8(_++,b.charCodeAt(0)));var S=new Uint8Array(f.byteLength+s.byteLength);return S.set(new Uint8Array(f),0),S.set(new Uint8Array(s),f.byteLength),S.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[n,i,o,a,l]=s;return r({join_ref:n,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),n=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,n)}}_decodeUserBroadcast(t,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=s.decode(t.slice(l,l+n));l=l+n;const u=s.decode(t.slice(l,l+i));l=l+i;const h=s.decode(t.slice(l,l+o));l=l+o;const d=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(s.decode(d)):d,v={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class kc{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const Sa=(e,t,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Kf(o,e,t,n),i),{}):{}},Kf=(e,t,r,s)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=r[e];return i&&!s.includes(i)?Rc(i,o):Ai(o)},Rc=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return zf(t,r)}switch(e){case de.bool:return Wf(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return Gf(t);case de.json:case de.jsonb:return Jf(t);case de.timestamp:return Yf(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return Ai(t);default:return Ai(t)}},Ai=e=>e,Wf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Gf=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Jf=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},zf=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Rc(t,a))}return e},Yf=e=>typeof e=="string"?e.replace(" ","T"):e,Oc=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Jn{constructor(t,r,s={},n=Si){this.channel=t,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ta;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ta||(Ta={}));class fs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=fs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=fs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,n){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(S=>S.presence_ref),f=h.map(S=>S.presence_ref),v=u.filter(S=>f.indexOf(S.presence_ref)<0),_=h.filter(S=>d.indexOf(S.presence_ref)<0);v.length>0&&(a[c]=v),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(t,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,n(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const n=t[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Aa;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Aa||(Aa={}));var ps;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ps||(ps={}));var Ct;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ct||(Ct={}));class Nr{constructor(t,r={config:{}},s){var n,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jn(this,st.join,this.params,this.timeout),this.rejoinTimer=new kc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new fs(this),this.broadcastEndpointURL=Oc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Te.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[ps.PRESENCE]&&this.bindings[ps.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Ct.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Ct.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Ct.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,b=[];for(let m=0;m<S;m++){const w=_[m],{filter:{event:E,schema:O,table:P,filter:L}}=w,Z=f&&f[m];if(Z&&Z.event===E&&Nr.isFilterValueEqual(Z.schema,O)&&Nr.isFilterValueEqual(Z.table,P)&&Nr.isFilterValueEqual(Z.filter,L))b.push(Object.assign(Object.assign({},w),{id:Z.id}));else{this.unsubscribe(),this.state=Te.errored,t==null||t(Ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ct.SUBSCRIBED);return}}).receive("error",f=>{this.state=Te.errored,t==null||t(Ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===Te.joined&&t===ps.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var s,n;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Te.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Jn(this,st.leave,{},t),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Te.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Jn(this,t,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qf){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=st;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,r,s);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var v,_,S;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(_=f.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var v,_,S,b,m,w,E,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const P=f.id,L=(v=f.filter)===null||v===void 0?void 0:v.event;return P&&((_=r.ids)===null||_===void 0?void 0:_.includes(P))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))&&(!(!((b=f.filter)===null||b===void 0)&&b.table)||f.filter.table===((m=r.data)===null||m===void 0?void 0:m.table))}else{const P=(E=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return P==="*"||P===((O=r==null?void 0:r.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:_,table:S,commit_timestamp:b,type:m,errors:w}=v;d=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:b,eventType:m,new:{},old:{},errors:w}),this._getPayloadRecords(v))}f.callback(d,s)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const n=t.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Nr.isEqual(n.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(st.close,{},t)}_onError(t){this._on(st.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Sa(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Sa(t.columns,t.old_record)),r}}const zn=()=>{},Vs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zf=[1e3,2e3,5e3,1e4],Qf=1e4,Xf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ep{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Si,this.transport=null,this.heartbeatIntervalMs=Vs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zn,this.ref=0,this.reconnectTimer=null,this.vsn=Ea,this.logger=zn,this.conn=null,this.sendBuffer=[],this.serializer=new Hf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ti.websocket}`,this.httpEndpoint=Oc(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Uf.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Wt.connecting:return dr.Connecting;case Wt.open:return dr.Open;case Wt.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new Nr(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ff,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Wt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wt.open||this.conn.readyState===Wt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(st.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${t}${s}${n}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([Xf],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,s=!1;if(t)r=t,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Bf};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(st.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${t} callback`,n)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new kc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,n,i,o,a,l,c,u,h,d,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:Si,this.heartbeatIntervalMs=(n=t==null?void 0:t.heartbeatIntervalMs)!==null&&n!==void 0?n:Vs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:zn,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Ea,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:v=>Zf[v-1]||Qf,this.vsn){case Cc:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(v,_)=>_(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,_)=>_(JSON.parse(v));break;case Vf:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ss=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tp(e,t,r){const s=new URL(t,e);if(r)for(const[n,i]of Object.entries(r))i!==void 0&&s.searchParams.set(n,i);return s.toString()}async function rp(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function sp(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:n,body:i,headers:o}){const a=tp(e.baseUrl,s,n),l=await rp(e.auth),c=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),d=h&&u?JSON.parse(u):u;if(!c.ok){const f=h?d:void 0,v=f==null?void 0:f.error;throw new Ss((v==null?void 0:v.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:c.status,headers:c.headers,data:d}}}}function Fs(e){return e.join("")}var np=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Fs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fs(e.namespace)}`}),!0}catch(t){if(t instanceof Ss&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ss&&r.status===409)return;throw r}}};function Sr(e){return e.join("")}var ip=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Sr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Sr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ss&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ss&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},op=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=sp({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new np(this.client,t),this.tableOps=new ip(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},xn=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ap=class extends xn{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ci=class extends xn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const oo=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lp=()=>Response,ki=e=>{if(Array.isArray(e))return e.map(r=>ki(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=ki(s)}),t},cp=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},up=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function hp(e,t){if(Ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Ts(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(e){var t=hp(e,"string");return Ts(t)=="symbol"?t:t+""}function fp(e,t,r){return(t=dp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ca(Object(r),!0).forEach(function(s){fp(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ca(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Yn=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},pp=async(e,t,r)=>{e instanceof await lp()&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const n=e.status||500,i=(s==null?void 0:s.statusCode)||n+"";t(new ap(Yn(s),n,i))}).catch(s=>{t(new Ci(Yn(s),s))}):t(new Ci(Yn(e),e))},gp=(e,t,r,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?n:(cp(s)?(n.headers=G({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(s)):n.body=s,t!=null&&t.duplex&&(n.duplex=t.duplex),G(G({},n),r))};async function Is(e,t,r,s,n,i){return new Promise((o,a)=>{e(r,gp(t,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>pp(l,a,s))})}async function As(e,t,r,s){return Is(e,"GET",t,r,s)}async function rt(e,t,r,s,n){return Is(e,"POST",t,s,n,r)}async function Ri(e,t,r,s,n){return Is(e,"PUT",t,s,n,r)}async function mp(e,t,r,s){return Is(e,"HEAD",t,G(G({},r),{},{noResolveJson:!0}),s)}async function ao(e,t,r,s,n){return Is(e,"DELETE",t,s,n,r)}var vp=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}}};let xc;xc=Symbol.toStringTag;var _p=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[xc]="BlobDownloadBuilder",this.promise=null}asStream(){return new vp(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ve(t))return{data:null,error:t};throw t}}};const yp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ka={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wp=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=oo(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,s){var n=this;try{let i;const o=G(G({},ka),s);let a=G(G({},n.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",n.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",n.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=n.toBase64(n.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=G(G({},a),s.headers));const c=n._removeEmptyFolders(t),u=n._getFinalPath(c),h=await(e=="PUT"?Ri:rt)(n.fetch,`${n.url}/object/${u}`,i,G({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(ve(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var n=this;const i=n._removeEmptyFolders(e),o=n._getFinalPath(i),a=new URL(n.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=G({upsert:ka.upsert},s),u=G(G({},n.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:i,fullPath:(await Ri(n.fetch,a.toString(),l,{headers:u})).Key},error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(ve(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let s=r._getFinalPath(e);const n=G({},r.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const i=await rt(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new xn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;try{return{data:await rt(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}}async copy(e,t,r){var s=this;try{return{data:{path:(await rt(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers})).Key},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}}async createSignedUrl(e,t,r){var s=this;try{let n=s._getFinalPath(e),i=await rt(s.fetch,`${s.url}/object/sign/${n}`,G({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:s.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}}async createSignedUrls(e,t,r){var s=this;try{const n=await rt(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>G(G({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),n=s?`?${s}`:"",i=this._getFinalPath(e),o=()=>As(this.fetch,`${this.url}/${r}/${i}${n}`,{headers:this.headers,noResolveJson:!0});return new _p(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:ki(await As(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await mp(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(ve(s)&&s instanceof Ci){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],n=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&s.push(n);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&s.push(o);let a=s.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(e){var t=this;try{return{data:await ao(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}}async list(e,t,r){var s=this;try{const n=G(G(G({},yp),t),{},{prefix:e||""});return{data:await rt(s.fetch,`${s.url}/object/list/${s.bucketId}`,n,{headers:s.headers},r),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(ve(n))return{data:null,error:n};throw n}}async listV2(e,t){var r=this;try{const s=G({},e);return{data:await rt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Pc="2.90.1",Ic={"X-Client-Info":`storage-js/${Pc}`};var bp=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const n=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase.")),this.url=n.href.replace(/\/$/,""),this.headers=G(G({},Ic),t),this.fetch=oo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await As(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await As(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await rt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}}async updateBucket(e,t){var r=this;try{return{data:await Ri(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ve(s))return{data:null,error:s};throw s}}async emptyBucket(e){var t=this;try{return{data:await rt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ao(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ep=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=G(G({},Ic),t),this.fetch=oo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await rt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),n=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await As(t.fetch,n,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ao(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ve(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!up(e))throw new xn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new op({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(n,i){const o=n[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(n,a),error:null}}catch(l){if(s)throw l;return{data:null,error:l}}}}})}};const lo={"X-Client-Info":`storage-js/${Pc}`,"Content-Type":"application/json"};var jc=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function We(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Zn=class extends jc{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Sp=class extends jc{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const co=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Tp=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ra=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ap=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,n=e;if(typeof n.json=="function")n.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new Zn(Ra(i),s,o))}).catch(()=>{const i=s+"";t(new Zn(n.statusText||`HTTP ${s} error`,s,i))});else{const i=s+"";t(new Zn(n.statusText||`HTTP ${s} error`,s,i))}}else t(new Sp(Ra(e),e))},Cp=(e,t,r,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return s?(Tp(s)?(n.headers=G({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(s)):n.body=s,G(G({},n),r)):n};async function kp(e,t,r,s,n,i){return new Promise((o,a)=>{e(r,Cp(t,s,n,i)).then(l=>{if(!l.ok)throw l;if(s!=null&&s.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Ap(l,a,s))})}async function Ge(e,t,r,s,n){return kp(e,"POST",t,s,n,r)}var Rp=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=G(G({},lo),t),this.fetch=co(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Ge(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}async listIndexes(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Ge(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(We(s))return{data:null,error:s};throw s}}},Op=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=G(G({},lo),t),this.fetch=co(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ge(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ge(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ge(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}},xp=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=G(G({},lo),t),this.fetch=co(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ge(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}},Pp=class extends xp{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Ip(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Ip=class extends Rp{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new jp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},jp=class extends Op{constructor(e,t,r,s,n){super(e,t,n),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,G(G({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Np=class extends bp{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new wp(this.url,this.headers,e,this.fetch)}get vectors(){return new Pp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ep(this.url+"/iceberg",this.headers,this.fetch)}};const Nc="2.90.1",Ir=30*1e3,Oi=3,Qn=Oi*Ir,$p="http://localhost:9999",Lp="supabase.auth.token",Dp={"X-Client-Info":`gotrue-js/${Nc}`},xi="X-Supabase-Api-Version",$c={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Up=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Mp=10*60*1e3;class Cs extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Bp extends Cs{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Vp(e){return V(e)&&e.name==="AuthApiError"}class fr extends Cs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Dt extends Cs{constructor(t,r,s,n){super(t,s,n),this.name=r,this.status=s}}class Ke extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fp(e){return V(e)&&e.name==="AuthSessionMissingError"}class Tr extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends Dt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Hs extends Dt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qp(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class Oa extends Dt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hp extends Dt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pi extends Dt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Xn(e){return V(e)&&e.name==="AuthRetryableFetchError"}class xa extends Dt{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Ii extends Dt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pa=` 	
\r=`.split(""),Kp=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Pa.length;t+=1)e[Pa[t].charCodeAt(0)]=-2;for(let t=0;t<un.length;t+=1)e[un[t].charCodeAt(0)]=t;return e})();function Ia(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(un[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(un[s]),t.queuedBits-=6}}function Lc(e,t,r){const s=Kp[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ja(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Jp(o,s,r)};for(let o=0;o<e.length;o+=1)Lc(e.charCodeAt(o),n,i);return t.join("")}function Wp(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Gp(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Wp(s,t)}}function Jp(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Br(e){const t=[],r={queue:0,queuedBits:0},s=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)Lc(e.charCodeAt(n),r,s);return new Uint8Array(t)}function zp(e){const t=[];return Gp(e,r=>t.push(r)),new Uint8Array(t)}function gr(e){const t=[],r={queue:0,queuedBits:0},s=n=>{t.push(n)};return e.forEach(n=>Ia(n,r,s)),Ia(null,r,s),t.join("")}function Yp(e){return Math.round(Date.now()/1e3)+e}function Zp(){return Symbol("auth-callback")}const xe=()=>typeof window<"u"&&typeof document<"u",or={tested:!1,writable:!1},Dc=()=>{if(!xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(or.tested)return or.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),or.tested=!0,or.writable=!0}catch{or.tested=!0,or.writable=!1}return or.writable};function Qp(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{t[n]=s}),t}const Uc=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Xp=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ar=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Oe=async(e,t)=>{await e.removeItem(t)};class Pn{constructor(){this.promise=new Pn.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pn.promiseConstructor=Promise;function ei(e){const t=e.split(".");if(t.length!==3)throw new Ii("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Up.test(t[s]))throw new Ii("JWT not in base64url format");return{header:JSON.parse(ja(t[0])),payload:JSON.parse(ja(t[1])),signature:Br(t[2]),raw:{header:t[0],payload:t[1]}}}async function eg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tg(e,t){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function rg(e){return("0"+e.toString(16)).substr(-2)}function sg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(t),Array.from(t,rg).join("")}async function ng(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function ig(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ng(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(e,t,r=!1){const s=sg();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await jr(e,`${t}-code-verifier`,n);const i=await ig(s);return[i,s===i?"plain":"s256"]}const og=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ag(e){const t=e.headers.get(xi);if(!t||!t.match(og))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lg(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ug=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(e){if(!ug.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ti(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hg(e,t){return new Proxy(e,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,n)}})}function Na(e){return JSON.parse(JSON.stringify(e))}const ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dg=[502,503,504];async function $a(e){var t;if(!Xp(e))throw new Pi(ur(e),0);if(dg.includes(e.status))throw new Pi(ur(e),e.status);let r;try{r=await e.json()}catch(i){throw new fr(ur(i),i)}let s;const n=ag(e);if(n&&n.getTime()>=$c["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new xa(ur(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Ke}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xa(ur(r),e.status,r.weak_password.reasons);throw new Bp(ur(r),e.status||500,s)}const fg=(e,t,r,s)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function W(e,t,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[xi]||(i[xi]=$c["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await pg(e,t,r+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function pg(e,t,r,s,n,i){const o=fg(t,s,n,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Pi(ur(l),0)}if(a.ok||await $a(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await $a(l)}}function tt(e){var t;let r=null;vg(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Yp(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function La(e){const t=tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Zt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function gg(e){return{data:e,error:null}}function mg(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=e,o=On(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Da(e){return e}function vg(e){return e.access_token&&e.refresh_token&&e.expires_in}const ri=["global","local","others"];class _g{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=Uc(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ri[0]){if(ri.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ri.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zt})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=On(t,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:mg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(V(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Zt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Da});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Cr(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Zt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Cr(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Zt})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Cr(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zt})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Cr(t.userId);try{const{data:r,error:s}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Cr(t.userId),Cr(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Da});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);c[`${S}Page`]=_}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}}function Ua(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const kr={debug:!!(globalThis&&Dc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mc extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yg extends Mc{}async function wg(e,t,r){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yg(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function bg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Bc(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Eg(e){return parseInt(e,16)}function Sg(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Tg(e){var t;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Bc(e.address),v=u?`${u}://${s}`:s,_=e.statement?`${e.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${f}

${_}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(b+=`
Expiration Time: ${n.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);m+=`
- ${w}`}b+=m}return`${S}
${b}`}class be extends Error{constructor({message:t,code:r,cause:s,name:n}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class hn extends be{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ag({error:e,options:t}){var r,s,n;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Vc(o)){if(i.rp.id!==o)return new be({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Cg({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new be({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(Vc(s)){if(r.rpId!==s)return new be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kg{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Rg=new kg;function Og(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,n=On(e,["challenge","user","excludeCredentials"]),i=Br(t).buffer,o=Object.assign(Object.assign({},r),{id:Br(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Br(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function xg(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=On(e,["challenge","allowCredentials"]),n=Br(t).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Br(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Pg(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:gr(new Uint8Array(e.response.attestationObject)),clientDataJSON:gr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ig(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:gr(new Uint8Array(n.authenticatorData)),clientDataJSON:gr(new Uint8Array(n.clientDataJSON)),signature:gr(new Uint8Array(n.signature)),userHandle:n.userHandle?gr(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vc(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ma(){var e,t;return!!(xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function jg(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hn("Browser returned unexpected credential type",t)}:{data:null,error:new hn("Empty credential response",t)}}catch(t){return{data:null,error:Ag({error:t,options:e})}}}async function Ng(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hn("Browser returned unexpected credential type",t)}:{data:null,error:new hn("Empty credential response",t)}}catch(t){return{data:null,error:Cg({error:t,options:e})}}}const $g={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Lg={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dn(...e){const t=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of e)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(t(o)){const a=s[i];t(a)?s[i]=dn(a,o):s[i]=dn(o)}else s[i]=o}return s}function Dg(e,t){return dn($g,e,t||{})}function Ug(e,t){return dn(Lg,e,t||{})}class Mg{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=n??Rg.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=Dg(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await jg({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=Ug(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await Ng(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return V(o)?{data:null,error:o}:{data:null,error:new fr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Cs("rpId is required for WebAuthn authentication")};try{if(!Ma())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return V(o)?{data:null,error:o}:{data:null,error:new fr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Cs("rpId is required for WebAuthn registration")};try{if(!Ma())return{data:null,error:new fr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return V(o)?{data:null,error:o}:{data:null,error:new fr("Unexpected error in register",o)}}}}bg();const Bg={url:$p,storageKey:Lp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ba(e,t,r){return await r()}const Rr={};class ks{get jwks(){var t,r;return(r=(t=Rr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Rr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Bg),t);if(this.storageKey=i.storageKey,this.instanceID=(r=ks.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ks.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&xe()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _g({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Uc(i.fetch),this.lock=i.lock||Ba,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&xe()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=wg:this.lock=Ba,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Mg(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Dc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ua(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ua(this.memoryStorage)),xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nc}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(xe()&&(r=Qp(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),xe()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),qp(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return V(r)?this._returnResult({error:r}):this._returnResult({error:new fr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,n;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:tt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(V(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,n;try{let i;if("email"in t){const{email:u,password:h,options:d}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Ar(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:v},xform:tt})}else if("phone"in t){const{phone:u,password:h,options:d}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:tt})}else throw new qs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Oe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),V(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:La})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:La})}else throw new qs("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const i=new Tr;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,n,i,o,a,l,c,u,h,d;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:_,wallet:S,statement:b,options:m}=t;let w;if(xe())if(typeof S=="object")w=S;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")w=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=S}const E=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),O=await w.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=Bc(O[0]);let L=(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!L){const U=await w.request({method:"eth_chainId"});L=Eg(U)}const Z={domain:E.host,address:P,statement:b,uri:E.href,version:"1",chainId:L,nonce:(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Tg(Z),v=await w.request({method:"personal_sign",params:[Sg(f),P]})}try{const{data:_,error:S}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:tt});if(S)throw S;if(!_||!_.session||!_.user){const b=new Tr;return this._returnResult({data:{user:null,session:null},error:b})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(V(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var r,s,n,i,o,a,l,c,u,h,d,f;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:S,wallet:b,statement:m,options:w}=t;let E;if(xe())if(typeof b=="object")E=b;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))E=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const O=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const P=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),m?{statement:m}:null));let L;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")L=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)L=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)v=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),_=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${O.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(n=(s=w==null?void 0:w.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const P=await E.signMessage(new TextEncoder().encode(v),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=P}}try{const{data:S,error:b}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:gr(_)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:tt});if(b)throw b;if(!S||!S.session||!S.user){const m=new Tr;return this._returnResult({data:{user:null,session:null},error:m})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:b})}catch(S){if(V(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const r=await ar(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new Hp;const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:tt});if(await Oe(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Tr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),V(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=t,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Tr;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ar(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new qs("You must provide either an email or phone number.")}catch(a){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),V(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,s;try{let n,i;"options"in t&&(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:tt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(V(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(t){var r,s,n,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Ar(this.storage,this.storageKey));const c=await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:gg});return!((i=c.data)===null||i===void 0)&&i.url&&xe()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),V(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Ke;const{error:n}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(t){if(V(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:n,options:i}=t,{error:o}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:n,options:i}=t,{data:o,error:a}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new qs("You must provide either an email or phone number and a type")}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Qn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await ar(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ti()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=hg(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Zt}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ke}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Zt})})}catch(r){if(V(r))return Fp(r)&&(await this._removeSession(),await Oe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Ke;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ar(this.storage,this.storageKey));const{data:c,error:u}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Zt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),V(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ke;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=ei(t.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(V(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Ke;const{data:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!xe())throw new Hs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Hs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Oa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Oa("No code detected.");const{data:m,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Hs("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=Ir&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=d-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,u);const{data:_,error:S}=await this._getUser(i);if(S)throw S;const b={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(s){if(V(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ar(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({error:i});const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Vp(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await Oe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Zp(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Ar(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),V(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return xe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(V(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,h=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:tt}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Tr}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(n){if(await Oe(this.storage,`${this.storageKey}-code-verifier`),V(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await tg(async n=>(n>0&&await eg(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Xn(i)&&Date.now()+o-s<Ir})}catch(s){if(this._debug(r,"error",s),V(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),xe()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await ar(this.storage,this.storageKey);if(n&&this.userStorage){let o=await ar(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await jr(this.userStorage,this.storageKey+"-user",o)),n.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ti()}else if(n&&!n.user&&!n.user){const o=await ar(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Oe(this.storage,this.storageKey+"-user"),await jr(this.storage,this.storageKey,n)):n.user=ti()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qn;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Qn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Xn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Pn;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Ke;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),V(i)){const o={data:null,error:i};return Xn(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,r,s=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Oe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await jr(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=Na(n);await jr(this.storage,this.storageKey,i)}else{const n=Na(r);await jr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Oe(this.storage,this.storageKey),await Oe(this.storage,this.storageKey+"-code-verifier"),await Oe(this.storage,this.storageKey+"-user"),this.userStorage&&await Oe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ir);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-t)/Ir);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Ir}ms, refresh threshold is ${Oi} ticks`),n<=Oi&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mc)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ar(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Pg(t.webauthn.credential_response):Ig(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Og(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:xg(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:s},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ei(s.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ke})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Ke});const o=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(V(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Ke});const o=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&xe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(V(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await W(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new Ke})})}catch(t){if(V(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?(await W(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ke})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(a=>a.kid===t);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===t),s&&this.jwks_cached_at+Mp>n)return s;const{data:i,error:o}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});s=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=ei(s);r!=null&&r.allowExpired||lg(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const u=cg(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,zp(`${a}.${l}`)))throw new Ii("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(V(s))return this._returnResult({data:null,error:s});throw s}}}ks.nextInstanceID={};const Vg=ks,Fg="2.90.1";let ns="";typeof Deno<"u"?ns="deno":typeof document<"u"?ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ns="react-native":ns="node";const qg={"X-Client-Info":`supabase-js-${ns}/${Fg}`},Hg={headers:qg},Kg={schema:"public"},Wg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Gg={};function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}function Jg(e,t){if(Rs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Rs(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zg(e){var t=Jg(e,"string");return Rs(t)=="symbol"?t:t+""}function Yg(e,t,r){return(t=zg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Va(Object(r),!0).forEach(function(s){Yg(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Va(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Zg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Qg=()=>Headers,Xg=(e,t,r)=>{const s=Zg(r),n=Qg();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,ye(ye({},o),{},{headers:c}))}};function em(e){return e.endsWith("/")?e:e+"/"}function tm(e,t){var r,s;const{db:n,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,d={db:ye(ye({},l),n),auth:ye(ye({},c),i),realtime:ye(ye({},u),o),storage:{},global:ye(ye(ye({},h),a),{},{headers:ye(ye({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function rm(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(em(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sm=class extends Vg{constructor(e){super(e)}},nm=class{constructor(e,t,r){var s,n;this.supabaseUrl=e,this.supabaseKey=t;const i=rm(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:Kg,realtime:Gg,auth:ye(ye({},Wg),{},{storageKey:o}),global:Hg},l=tm(r??{},a);if(this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(n=l.global.headers)!==null&&n!==void 0?n:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=Xg(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ye({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new Df(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Np(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new If(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:n,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sm({url:this.authUrl.href,headers:ye(ye({},d),u),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:n,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ep(this.realtimeUrl.href,ye(ye({},e),{},{params:ye(ye({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const im=(e,t,r)=>new nm(e,t,r);function om(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}om()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const am="https://hzdybwclwqkcobpwxzoo.supabase.co",lm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh6ZHlid2Nsd3FrY29icHd4em9vIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNzU4ODQsImV4cCI6MjA4MTc1MTg4NH0.e0mSI7Qp9sRaclOwP61guBNtwTVHYXc-TtVaUON67QU",Gt=im(am,lm);function h0(){return{supabase:Gt}}const Tt=wt(null),lr=wt(null),et=wt(!0),Ks=wt(!1);function Fc(){const e=Ee(()=>{var l,c;return Tt.value&&(((l=Tt.value.user_metadata)==null?void 0:l.role)||((c=Tt.value.app_metadata)==null?void 0:c.role))||null}),t=Ee(()=>e.value==="admin"),r=Ee(()=>!!lr.value);async function s(){if(!Ks.value)try{et.value=!0;const{data:{session:l}}=await Gt.auth.getSession();lr.value=l,Tt.value=(l==null?void 0:l.user)||null,Gt.auth.onAuthStateChange((c,u)=>{console.log("Auth state changed:",c),lr.value=u,Tt.value=(u==null?void 0:u.user)||null}),Ks.value=!0}catch(l){console.error("Auth initialization error:",l)}finally{et.value=!1}}async function n(l,c){try{et.value=!0;const{data:u,error:h}=await Gt.auth.signInWithPassword({email:l,password:c});if(h)throw h;return lr.value=u.session,Tt.value=u.user,{success:!0}}catch(u){return console.error("Login error:",u),{success:!1,error:u.message}}finally{et.value=!1}}async function i(){try{et.value=!0,await Gt.auth.signOut(),lr.value=null,Tt.value=null}catch(l){console.error("Logout error:",l)}finally{et.value=!1}}async function o(l){try{et.value=!0;const{data:c,error:u}=await Gt.auth.updateUser({password:l});if(u)throw u;return{success:!0,user:c.user}}catch(c){return console.error("Set password error:",c),{success:!1,error:c.message}}finally{et.value=!1}}async function a(l,c){try{et.value=!0;const{data:u,error:h}=await Gt.auth.setSession({access_token:l,refresh_token:c});if(h)throw h;return lr.value=u.session,Tt.value=u.user,{success:!0,needsPassword:!0}}catch(u){return console.error("Invite token error:",u),{success:!1,error:u.message}}finally{et.value=!1}}return zr(()=>{Ks.value||s()}),{user:Tt,session:lr,loading:et,userRole:e,isAdmin:t,isAuthenticated:r,initialized:Ks,initialize:s,login:n,logout:i,setPassword:o,handleInviteToken:a}}const ts=wt([]);let cm=0;function um(){function e(a,l="info",c=5e3){const u=++cm,h={id:u,message:a,type:l,timestamp:Date.now()};return ts.value.push(h),c>0&&setTimeout(()=>{t(u)},c),u}function t(a){const l=ts.value.findIndex(c=>c.id===a);l!==-1&&ts.value.splice(l,1)}function r(){ts.value=[]}function s(a,l){return e(a,"success",l)}function n(a,l=8e3){return e(a,"error",l)}function i(a,l){return e(a,"warning",l)}function o(a,l){return e(a,"info",l)}return{alerts:ts,addAlert:e,removeAlert:t,clearAlerts:r,success:s,error:n,warning:i,info:o}}const qc=(e,t)=>{const r=e.__vccOpts||e;for(const[s,n]of t)r[s]=n;return r},hm={class:"sidebar-header"},dm={key:0,width:"120",height:"30",viewBox:"0 0 141 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fm={key:1,width:"30",height:"30",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pm=["title"],gm={width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},mm={key:0,d:"M13 17l5-5-5-5M6 17l5-5-5-5"},vm={key:1,d:"M11 17l-5-5 5-5M18 17l-5-5 5-5"},_m={class:"sidebar-nav"},ym={class:"nav-link-icon"},wm={key:0,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},bm={key:1,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Em={key:2,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Sm={key:3,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Tm={key:4,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Am={key:5,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Cm={key:6,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},km={key:7,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Rm={key:8,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Om={class:"sidebar-footer"},xm=["title"],Pm={class:"user-avatar"},Im={class:"user-details"},jm={class:"user-name"},Nm={class:"user-role"},$m=["title"],Lm={__name:"Sidebar",setup(e){const t=Rf(),r=Tc(),{user:s,isAdmin:n,logout:i}=Fc(),o=wt(!1),a=wt(!1);zr(()=>{const b=localStorage.getItem("sidebar-collapsed");b!==null&&(a.value=b==="true")}),_r(a,b=>{localStorage.setItem("sidebar-collapsed",b.toString()),window.dispatchEvent(new CustomEvent("sidebar-collapse",{detail:{collapsed:b}}))});const l=[{label:"Reports",items:[{to:"/cpt-reports",label:"Transactions",icon:"document"},{to:"/settlement-reports",label:"Settlements",icon:"bank"}]},{label:"Settings",items:[{to:"/balances",label:"Balances",icon:"wallet"},{to:"/pricing",label:"Pricing",icon:"tag"},{to:"/plugin-admin",label:"Plugin Admin",icon:"plugin",requiresAdmin:!0},{to:"/admin",label:"Admin",icon:"settings",requiresAdmin:!0},{to:"/documentation",label:"Documentation",icon:"document"}]}],c=Ee(()=>l.map(b=>({...b,items:b.items.filter(m=>m.requiresAdmin?n.value:!0)})).filter(b=>b.items.length>0)),u=Ee(()=>{var b;return(b=s.value)!=null&&b.email?s.value.email.substring(0,2).toUpperCase():""}),h=Ee(()=>{var b;return(b=s.value)!=null&&b.email?s.value.email.split("@")[0]:""}),d=Ee(()=>n.value?"Administrator":"Member");function f(){a.value=!a.value}function v(){o.value=!o.value}function _(){o.value=!1}async function S(){await i(),t.push("/login")}return _r(()=>r.path,()=>{_()}),(b,m)=>{const w=Nl("router-link");return ee(),fe(Ce,null,[j("aside",{class:nt(["sidebar-v2",{"mobile-open":o.value,collapsed:a.value}])},[m[12]||(m[12]=j("div",{class:"sidebar-bg"},[j("div",{class:"sidebar-gradient"}),j("div",{class:"sidebar-noise"})],-1)),j("div",hm,[ge(w,{to:"/reports",class:"sidebar-brand"},{default:Jt(()=>[j("div",{class:nt(["brand-logo",{"icon-only":a.value}])},[a.value?(ee(),fe("svg",fm,[...m[1]||(m[1]=[j("path",{d:"M33.8921 7.56622C33.477 6.87448 32.9288 6.27191 32.2794 5.79335C31.6299 5.31479 30.892 4.96974 30.1083 4.77816L11.7634 0.209484C10.8772 -0.0132057 9.95585 -0.0588962 9.05203 0.0750298C8.14821 0.208956 7.27968 0.519867 6.4962 0.989958C5.71272 1.46005 5.02967 2.08008 4.48617 2.81455C3.94267 3.54902 3.5494 4.38349 3.32889 5.27017L0.201106 17.8867C-0.198322 19.5076 0.00136674 21.2182 0.763393 22.7036C1.52542 24.1889 2.79846 25.3488 4.34805 25.9698L3.99662 27.5044C3.64407 28.6656 3.58473 29.896 3.82391 31.0858C4.06308 32.2755 4.59332 33.3875 5.36722 34.3222C5.8858 34.8724 6.51527 35.3062 7.21399 35.595C7.91271 35.8838 8.66477 36.0209 9.42045 35.9974C9.81296 36.0016 10.205 35.9702 10.5919 35.9037L25.3639 33.4671C26.7452 33.1285 28.0036 32.4087 28.9957 31.3896C29.9878 30.3706 30.6737 29.0934 30.9752 27.7035L32.6387 20.3819L34.6653 12.1817C34.847 11.3994 34.8723 10.5889 34.7396 9.79677C34.6069 9.00466 34.3189 8.2466 33.8921 7.56622ZM30.6472 9.99113H30.8346C30.9097 9.98386 30.9849 10.0047 31.0455 10.0497C31.1509 10.1551 31.2915 10.5534 31.1275 11.2914L27.8006 25.8643C27.552 26.5183 27.0732 27.0589 26.4541 27.3847C25.835 27.7104 25.1182 27.7988 24.4385 27.6332L8.38957 23.6503L9.32673 19.5502C10.0999 16.1413 13.1222 12.8729 15.9103 12.416L30.6472 9.99113ZM3.80918 21.4128C3.56214 21.006 3.39774 20.5546 3.32537 20.0842C3.25301 19.6138 3.27411 19.1338 3.38746 18.6716L6.51524 6.06676C6.70865 5.27993 7.15964 4.58038 7.79647 4.07941C8.43329 3.57845 9.21936 3.30484 10.0296 3.30212C10.3295 3.30251 10.6283 3.3379 10.9199 3.40756L26.3245 7.2265L15.3597 9.03054C11.1893 9.72169 7.07754 13.9975 5.98809 18.777L5.09778 22.678C4.56538 22.3757 4.12118 21.9396 3.80918 21.4128ZM9.95931 32.5182C9.59283 32.6143 9.20788 32.6152 8.84093 32.5209C8.47398 32.4266 8.13718 32.2402 7.86241 31.9793C7.49151 31.4441 7.2507 30.8297 7.15918 30.185C7.06766 29.5403 7.12796 28.8831 7.33526 28.2658L7.66327 26.8601L22.3064 30.4682L9.95931 32.5182Z",fill:"#06b6d4"},null,-1)])])):(ee(),fe("svg",dm,[...m[0]||(m[0]=[j("path",{d:"M33.8921 7.56622C33.477 6.87448 32.9288 6.27191 32.2794 5.79335C31.6299 5.31479 30.892 4.96974 30.1083 4.77816L11.7634 0.209484C10.8772 -0.0132057 9.95585 -0.0588962 9.05203 0.0750298C8.14821 0.208956 7.27968 0.519867 6.4962 0.989958C5.71272 1.46005 5.02967 2.08008 4.48617 2.81455C3.94267 3.54902 3.5494 4.38349 3.32889 5.27017L0.201106 17.8867C-0.198322 19.5076 0.00136674 21.2182 0.763393 22.7036C1.52542 24.1889 2.79846 25.3488 4.34805 25.9698L3.99662 27.5044C3.64407 28.6656 3.58473 29.896 3.82391 31.0858C4.06308 32.2755 4.59332 33.3875 5.36722 34.3222C5.8858 34.8724 6.51527 35.3062 7.21399 35.595C7.91271 35.8838 8.66477 36.0209 9.42045 35.9974C9.81296 36.0016 10.205 35.9702 10.5919 35.9037L25.3639 33.4671C26.7452 33.1285 28.0036 32.4087 28.9957 31.3896C29.9878 30.3706 30.6737 29.0934 30.9752 27.7035L32.6387 20.3819L34.6653 12.1817C34.847 11.3994 34.8723 10.5889 34.7396 9.79677C34.6069 9.00466 34.3189 8.2466 33.8921 7.56622ZM30.6472 9.99113H30.8346C30.9097 9.98386 30.9849 10.0047 31.0455 10.0497C31.1509 10.1551 31.2915 10.5534 31.1275 11.2914L27.8006 25.8643C27.552 26.5183 27.0732 27.0589 26.4541 27.3847C25.835 27.7104 25.1182 27.7988 24.4385 27.6332L8.38957 23.6503L9.32673 19.5502C10.0999 16.1413 13.1222 12.8729 15.9103 12.416L30.6472 9.99113ZM3.80918 21.4128C3.56214 21.006 3.39774 20.5546 3.32537 20.0842C3.25301 19.6138 3.27411 19.1338 3.38746 18.6716L6.51524 6.06676C6.70865 5.27993 7.15964 4.58038 7.79647 4.07941C8.43329 3.57845 9.21936 3.30484 10.0296 3.30212C10.3295 3.30251 10.6283 3.3379 10.9199 3.40756L26.3245 7.2265L15.3597 9.03054C11.1893 9.72169 7.07754 13.9975 5.98809 18.777L5.09778 22.678C4.56538 22.3757 4.12118 21.9396 3.80918 21.4128ZM9.95931 32.5182C9.59283 32.6143 9.20788 32.6152 8.84093 32.5209C8.47398 32.4266 8.13718 32.2402 7.86241 31.9793C7.49151 31.4441 7.2507 30.8297 7.15918 30.185C7.06766 29.5403 7.12796 28.8831 7.33526 28.2658L7.66327 26.8601L22.3064 30.4682L9.95931 32.5182Z",fill:"#06b6d4"},null,-1),j("path",{d:"M46.6226 26V10.1297H53.1003C54.7505 10.1297 56.154 10.415 57.3108 10.9857C58.4675 11.5563 59.3543 12.4277 59.9712 13.5999C60.6036 14.7566 60.9198 16.2449 60.9198 18.0648C60.9198 19.8693 60.6036 21.3577 59.9712 22.5298C59.3543 23.702 58.4675 24.5734 57.3108 25.144C56.154 25.7147 54.7505 26 53.1003 26H46.6226ZM50.0697 23.1545H53.0771C53.7712 23.1545 54.3881 23.0542 54.9279 22.8537C55.4677 22.6532 55.915 22.3602 56.2697 21.9746C56.6244 21.5736 56.8943 21.0801 57.0794 20.494C57.2645 19.8925 57.357 19.1984 57.357 18.4119V17.7178C57.357 16.9313 57.2645 16.2449 57.0794 15.6589C56.8943 15.0574 56.6244 14.5638 56.2697 14.1782C55.915 13.7772 55.4677 13.4765 54.9279 13.276C54.3881 13.0601 53.7712 12.9521 53.0771 12.9521H50.0697V23.1545ZM63.725 26V10.1297H67.172V26H63.725ZM77.9014 26.2776C75.4029 26.2776 73.475 25.6144 72.1178 24.288C70.776 22.9462 70.1051 20.8718 70.1051 18.0648C70.1051 16.1987 70.429 14.6641 71.0767 13.4611C71.7245 12.2427 72.6653 11.3404 73.8991 10.7543C75.133 10.1528 76.6136 9.85208 78.341 9.85208C79.3743 9.85208 80.346 9.96776 81.2559 10.1991C82.1659 10.4304 82.9679 10.7852 83.6619 11.2633C84.3714 11.7414 84.9189 12.3429 85.3045 13.0678C85.7055 13.7772 85.906 14.6255 85.906 15.6126H82.4127C82.4127 15.1345 82.3047 14.7103 82.0888 14.3402C81.8883 13.97 81.6029 13.6616 81.2328 13.4148C80.8626 13.168 80.4385 12.983 79.9604 12.8596C79.4823 12.7362 78.981 12.6745 78.4567 12.6745C77.6547 12.6745 76.9529 12.7825 76.3514 12.9984C75.7499 13.1989 75.2487 13.5151 74.8477 13.9469C74.4621 14.3633 74.169 14.8877 73.9685 15.52C73.768 16.1524 73.6678 16.885 73.6678 17.7178V18.4119C73.6678 19.5686 73.8375 20.5171 74.1768 21.2574C74.5161 21.9977 75.025 22.553 75.7036 22.9231C76.3823 23.2778 77.2228 23.4552 78.2253 23.4552C79.0581 23.4552 79.7907 23.3318 80.4231 23.085C81.0709 22.8229 81.5721 22.4527 81.9268 21.9746C82.297 21.4965 82.4821 20.9104 82.4821 20.2164V20.0544H77.7395V17.4171H85.906V26H83.6388L83.338 24.288C82.8753 24.7353 82.3741 25.1055 81.8343 25.3985C81.3099 25.6915 80.7238 25.9075 80.0761 26.0463C79.4283 26.2005 78.7034 26.2776 77.9014 26.2776ZM89.2317 26V10.1297H92.6788V26H89.2317ZM96.1902 26V10.1297H104.449C105.591 10.1297 106.539 10.3456 107.295 10.7775C108.066 11.1939 108.644 11.7877 109.03 12.5588C109.431 13.3146 109.631 14.2168 109.631 15.2656C109.631 16.3143 109.423 17.232 109.007 18.0186C108.606 18.7897 108.012 19.3912 107.225 19.8231C106.439 20.2549 105.475 20.4708 104.334 20.4708H99.6372V26H96.1902ZM99.6372 17.6484H103.871C104.596 17.6484 105.151 17.4402 105.537 17.0238C105.938 16.6074 106.138 16.029 106.138 15.2887C106.138 14.7797 106.053 14.3556 105.884 14.0163C105.714 13.677 105.459 13.4148 105.12 13.2297C104.796 13.0447 104.38 12.9521 103.871 12.9521H99.6372V17.6484ZM109.165 26L115.273 10.1297H119.53L125.637 26H121.913L120.779 22.8768H113.862L112.728 26H109.165ZM114.857 20.1007H119.784L118.373 16.191C118.311 16.0213 118.234 15.8208 118.142 15.5895C118.065 15.3427 117.98 15.0728 117.887 14.7797C117.795 14.4867 117.702 14.2014 117.61 13.9238C117.532 13.6307 117.455 13.3685 117.378 13.1372H117.239C117.162 13.4302 117.062 13.7772 116.939 14.1782C116.815 14.5638 116.692 14.9417 116.568 15.3118C116.445 15.6666 116.345 15.9596 116.268 16.191L114.857 20.1007ZM130.232 26V19.6149L124.078 10.1297H128.08L132.013 16.5148H132.129L136.039 10.1297H139.809L133.702 19.6149V26H130.232Z",fill:"rgba(255, 255, 255, 0.92)"},null,-1)])]))],2)]),_:1}),j("button",{class:"collapse-toggle",onClick:f,title:a.value?"Expand":"Collapse"},[(ee(),fe("svg",gm,[a.value?(ee(),fe("path",mm)):(ee(),fe("path",vm))]))],8,pm)]),j("nav",_m,[(ee(!0),fe(Ce,null,ci(c.value,E=>(ee(),fe("div",{key:E.label,class:"nav-section"},[Ls(j("div",{class:"nav-section-label"},hr(E.label),513),[[Bs,!a.value]]),(ee(!0),fe(Ce,null,ci(E.items,O=>(ee(),Qt(w,{key:O.to,to:O.to,class:nt(["nav-link",{active:xt(r).path===O.to}]),title:a.value?O.label:""},{default:Jt(()=>[j("span",ym,[O.icon==="dashboard"?(ee(),fe("svg",wm,[...m[2]||(m[2]=[j("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1"},null,-1),j("rect",{x:"14",y:"3",width:"7",height:"5",rx:"1"},null,-1),j("rect",{x:"14",y:"12",width:"7",height:"9",rx:"1"},null,-1),j("rect",{x:"3",y:"16",width:"7",height:"5",rx:"1"},null,-1)])])):O.icon==="wallet"?(ee(),fe("svg",bm,[...m[3]||(m[3]=[j("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"},null,-1),j("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"},null,-1)])])):O.icon==="refund"?(ee(),fe("svg",Em,[...m[4]||(m[4]=[j("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"},null,-1),j("path",{d:"M3 3v5h5"},null,-1),j("path",{d:"M12 7v5l4 2"},null,-1)])])):O.icon==="document"?(ee(),fe("svg",Sm,[...m[5]||(m[5]=[j("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"},null,-1),j("polyline",{points:"14 2 14 8 20 8"},null,-1),j("line",{x1:"16",y1:"13",x2:"8",y2:"13"},null,-1),j("line",{x1:"16",y1:"17",x2:"8",y2:"17"},null,-1),j("line",{x1:"10",y1:"9",x2:"8",y2:"9"},null,-1)])])):O.icon==="bank"?(ee(),fe("svg",Tm,[...m[6]||(m[6]=[j("path",{d:"M3 21h18"},null,-1),j("path",{d:"M3 10h18"},null,-1),j("path",{d:"M5 6l7-3 7 3"},null,-1),j("path",{d:"M4 10v11"},null,-1),j("path",{d:"M20 10v11"},null,-1),j("path",{d:"M8 10v11"},null,-1),j("path",{d:"M12 10v11"},null,-1),j("path",{d:"M16 10v11"},null,-1)])])):O.icon==="flame"?(ee(),fe("svg",Am,[...m[7]||(m[7]=[j("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"},null,-1)])])):O.icon==="tag"?(ee(),fe("svg",Cm,[...m[8]||(m[8]=[j("path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"},null,-1),j("path",{d:"M7 7h.01"},null,-1)])])):O.icon==="plugin"?(ee(),fe("svg",km,[...m[9]||(m[9]=[j("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"},null,-1),j("path",{d:"m9 12 2 2 4-4"},null,-1)])])):O.icon==="settings"?(ee(),fe("svg",Rm,[...m[10]||(m[10]=[j("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"},null,-1),j("circle",{cx:"12",cy:"12",r:"3"},null,-1)])])):on("",!0)]),Ls(j("span",{class:"nav-link-text"},hr(O.label),513),[[Bs,!a.value]])]),_:2},1032,["to","class","title"]))),128))]))),128))]),j("div",Om,[j("div",{class:"user-card",title:a.value?`${h.value} (${d.value})`:""},[j("div",Pm,[j("span",null,hr(u.value),1)]),Ls(j("div",Im,[j("span",jm,hr(h.value),1),j("span",Nm,hr(d.value),1)],512),[[Bs,!a.value]])],8,xm),j("button",{class:"logout-btn",onClick:S,title:a.value?"Sign out":""},[m[11]||(m[11]=j("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[j("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),j("polyline",{points:"16 17 21 12 16 7"}),j("line",{x1:"21",y1:"12",x2:"9",y2:"12"})],-1)),Ls(j("span",null,"Sign out",512),[[Bs,!a.value]])],8,$m)])],2),j("div",{class:nt(["mobile-overlay",{active:o.value}]),onClick:_},null,2),j("div",{class:"mobile-header"},[j("button",{class:"hamburger",onClick:v,"aria-label":"Toggle menu"},[...m[13]||(m[13]=[j("span",null,null,-1),j("span",null,null,-1),j("span",null,null,-1)])]),m[14]||(m[14]=j("div",{class:"mobile-brand"},[j("svg",{width:"24",height:"24",viewBox:"0 0 36 36",fill:"none"},[j("path",{d:"M33.8921 7.56622C33.477 6.87448 32.9288 6.27191 32.2794 5.79335C31.6299 5.31479 30.892 4.96974 30.1083 4.77816L11.7634 0.209484C10.8772 -0.0132057 9.95585 -0.0588962 9.05203 0.0750298C8.14821 0.208956 7.27968 0.519867 6.4962 0.989958C5.71272 1.46005 5.02967 2.08008 4.48617 2.81455C3.94267 3.54902 3.5494 4.38349 3.32889 5.27017L0.201106 17.8867C-0.198322 19.5076 0.00136674 21.2182 0.763393 22.7036C1.52542 24.1889 2.79846 25.3488 4.34805 25.9698L3.99662 27.5044C3.64407 28.6656 3.58473 29.896 3.82391 31.0858C4.06308 32.2755 4.59332 33.3875 5.36722 34.3222C5.8858 34.8724 6.51527 35.3062 7.21399 35.595C7.91271 35.8838 8.66477 36.0209 9.42045 35.9974C9.81296 36.0016 10.205 35.9702 10.5919 35.9037L25.3639 33.4671C26.7452 33.1285 28.0036 32.4087 28.9957 31.3896C29.9878 30.3706 30.6737 29.0934 30.9752 27.7035L32.6387 20.3819L34.6653 12.1817C34.847 11.3994 34.8723 10.5889 34.7396 9.79677C34.6069 9.00466 34.3189 8.2466 33.8921 7.56622Z",fill:"#06b6d4"})]),j("span",null,"DigiPay")],-1)),m[15]||(m[15]=j("div",{style:{width:"40px"}},null,-1))])],64)}}},Dm=qc(Lm,[["__scopeId","data-v-fe6568c7"]]),Um=["innerHTML"],Mm={class:"alert-content"},Bm={__name:"AlertMessage",props:{type:{type:String,default:"info",validator:e=>["success","error","warning","info"].includes(e)},message:{type:String,default:""},dismissible:{type:Boolean,default:!1},icon:{type:Boolean,default:!0}},emits:["dismiss"],setup(e,{emit:t}){const r=e,s=t,n=Ee(()=>({success:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>',error:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>',warning:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',info:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>'})[r.type]);function i(){s("dismiss")}return(o,a)=>(ee(),fe("div",{class:nt(["alert",`alert-${e.type}`])},[e.icon?(ee(),fe("span",{key:0,class:"alert-icon",innerHTML:n.value},null,8,Um)):on("",!0),j("div",Mm,[eh(o.$slots,"default",{},()=>[ec(hr(e.message),1)])]),e.dismissible?(ee(),fe("button",{key:1,class:"alert-dismiss",onClick:i,"aria-label":"Dismiss"},[...a[0]||(a[0]=[j("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[j("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),j("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])):on("",!0)],2))}},Vm=qc(Bm,[["__scopeId","data-v-25d01f34"]]),Fm={class:"toast-container"},qm={key:1,class:"app-layout"},Hm={key:2},Km={__name:"App",setup(e){const t=Tc(),{isAuthenticated:r,initialize:s}=Fc(),{alerts:n,removeAlert:i}=um(),o=!1,a=localStorage.getItem("sidebar-collapsed"),l=wt(a==="true"),c=wt(!0),u=Ee(()=>r.value&&t.meta.layout!=="none");function h(d){l.value=d.detail.collapsed}return zr(()=>{s(),window.addEventListener("sidebar-collapse",h),requestAnimationFrame(()=>{requestAnimationFrame(()=>{c.value=!1})})}),Zi(()=>{window.removeEventListener("sidebar-collapse",h)}),(d,f)=>{const v=Nl("RouterView");return ee(),fe("div",{id:"app-root",class:nt({"has-env-banner":o,"initial-load":c.value})},[on("",!0),(ee(),Qt(Bu,{to:"body"},[j("div",Fm,[ge(ld,{name:"toast"},{default:Jt(()=>[(ee(!0),fe(Ce,null,ci(xt(n),_=>(ee(),fe("div",{key:_.id,class:nt(["toast",`toast-${_.type}`])},[ge(Vm,{type:_.type,message:_.message,dismissible:"",onDismiss:S=>xt(i)(_.id)},null,8,["type","message","onDismiss"])],2))),128))]),_:1})])])),u.value?(ee(),fe("div",qm,[ge(Dm),j("main",{class:nt(["main-wrapper",{"sidebar-collapsed":l.value}])},[ge(v,null,{default:Jt(({Component:_,route:S})=>[ge(Do,{name:c.value?"":"fade",mode:"out-in"},{default:Jt(()=>[(ee(),Qt(Hu,null,[(ee(),Qt(To(_),{key:S.path}))],1024))]),_:2},1032,["name"])]),_:1})],2)])):(ee(),fe("div",Hm,[ge(v,null,{default:Jt(({Component:_})=>[ge(Do,{name:c.value?"":"fade",mode:"out-in"},{default:Jt(()=>[(ee(),Qt(To(_)))]),_:2},1032,["name"])]),_:1})]))],2)}}},Wm="modulepreload",Gm=function(e){return"/digipay-dashboard/"+e},Fa={},ht=function(t,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(l=>{if(l=Gm(l),l in Fa)return;Fa[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Wm,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Jm=()=>ht(()=>import("./LoginView-BbegaefS.js"),__vite__mapDeps([0,1])),zm=()=>ht(()=>import("./ReportsView-T1rIvooA.js"),__vite__mapDeps([2,3,4,5,6,7,8,9])),Ym=()=>ht(()=>import("./RefundsView-CJIS8rO5.js"),__vite__mapDeps([10,7,8,11,12,13])),Zm=()=>ht(()=>import("./AdminView-B26grRzF.js"),__vite__mapDeps([14,7,8,11,12,15])),Qm=()=>ht(()=>import("./WarmupView-CV55T3hw.js"),__vite__mapDeps([16,3,4,7,8,17])),Xm=()=>ht(()=>import("./BalancesView-BAOb6K1V.js"),__vite__mapDeps([18,19,5,6,20])),e0=()=>ht(()=>import("./CptReportsView-DGUXL6F5.js"),__vite__mapDeps([21,19,5,6,22])),t0=()=>ht(()=>import("./SettlementReportsView-Cu6PwI6S.js"),__vite__mapDeps([23,19,5,6,24])),r0=()=>ht(()=>import("./SitePricingView-C4WzQwme.js"),__vite__mapDeps([25,19,5,6,26])),s0=()=>ht(()=>import("./PluginAdminView-YZHFxKR8.js"),__vite__mapDeps([27,19,28])),n0=()=>ht(()=>import("./DocumentationView-xDofxcGz.js"),__vite__mapDeps([29,30])),i0=[{path:"/",redirect:"/cpt-reports"},{path:"/login",name:"login",component:Jm,meta:{requiresAuth:!1,layout:"none"}},{path:"/reports",name:"reports",component:zm,meta:{requiresAuth:!0}},{path:"/refunds",name:"refunds",component:Ym,meta:{requiresAuth:!0}},{path:"/cpt-reports",name:"cpt-reports",component:e0,meta:{requiresAuth:!0}},{path:"/settlement-reports",name:"settlement-reports",component:t0,meta:{requiresAuth:!0}},{path:"/warmup",name:"warmup",component:Qm,meta:{requiresAuth:!0}},{path:"/balances",name:"balances",component:Xm,meta:{requiresAuth:!0}},{path:"/pricing",name:"pricing",component:r0,meta:{requiresAuth:!0}},{path:"/plugin-admin",name:"plugin-admin",component:s0,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/documentation",name:"documentation",component:n0,meta:{requiresAuth:!0}},{path:"/admin",name:"admin",component:Zm,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/:pathMatch(.*)*",redirect:"/cpt-reports"}],Hc=kf({history:nf("/digipay-dashboard/"),routes:i0});Hc.beforeEach(async(e,t,r)=>{var o,a,l,c;const s=e.meta.requiresAuth!==!1,n=e.meta.requiresAdmin===!0,{data:{session:i}}=await Gt.auth.getSession();if(s&&!i){r({name:"login",query:{redirect:e.fullPath}});return}if(!s&&i&&e.name==="login"){r({name:"cpt-reports"});return}if(n&&i&&(((a=(o=i.user)==null?void 0:o.user_metadata)==null?void 0:a.role)||((c=(l=i.user)==null?void 0:l.app_metadata)==null?void 0:c.role))!=="admin"){r({name:"cpt-reports"});return}r()});const Kc=_d(Km);Kc.use(Hc);Kc.mount("#app");export{Zi as A,Qt as B,eh as C,Bu as D,Di as E,Ce as F,ci as G,Ku as H,Wi as I,ht as J,Do as T,qc as _,Tc as a,Rf as b,fe as c,o0 as d,j as e,on as f,ec as g,ee as h,Ee as i,_r as j,ge as k,Bs as l,h0 as m,nt as n,zr as o,um as p,Jt as q,wt as r,u0 as s,hr as t,Fc as u,a0 as v,Ls as w,c0 as x,xt as y,l0 as z};
